{
  "app-id": "org.duckdns.bugfreeblog.mldonkeynext",
  "runtime": "org.kde.Platform",
  "runtime-version": "6.9",
  "sdk": "org.kde.Sdk",
  "base": "io.qt.qtwebengine.BaseApp",
  "base-version": "6.9",
  "command": "mldonkey-next",
  "finish-args": [
    "--share=network",
    "--socket=wayland",
    "--device=dri",
    "--share=ipc",
    "--share=network",
    "--socket=fallback-x11"
  ],
  "modules": [
    {
      "name": "mldonkey-next",
      "buildsystem": "simple",
      "build-commands": [
        "./create_qt_resource_files.sh",
        "cmake -DCMAKE_INSTALL_PREFIX=/app .",
        "cmake --build .",
        "cmake --install .",
        "install -Dm644 flatpak/org.duckdns.bugfreeblog.mldonkeynext.desktop /app/share/applications/org.duckdns.bugfreeblog.mldonkeynext.desktop",
        "install -Dm644 flatpak/org.duckdns.bugfreeblog.mldonkeynext.metainfo.xml /app/share/metainfo/org.duckdns.bugfreeblog.mldonkeynext.metainfo.xml",
        "install -Dm644 flatpak/org.duckdns.bugfreeblog.mldonkeynext.svg /app/share/icons/hicolor/scalable/apps/org.duckdns.bugfreeblog.mldonkeynext.svg",
        "install -Dm644 flatpak/org.duckdns.bugfreeblog.mldonkeynext_128.png /app/share/icons/hicolor/128x128/apps/org.duckdns.bugfreeblog.mldonkeynext.png",
        "install -Dm644 flatpak/org.duckdns.bugfreeblog.mldonkeynext_512.png /app/share/icons/hicolor/512x512/apps/org.duckdns.bugfreeblog.mldonkeynext.png"
      ],
      "subdir": "app",
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/carlonluca/mldonkey-next.git",
          "tag": "v0.14.5"
        },
        {
          "type": "archive",
          "url": "https://github.com/carlonluca/mldonkey-next/releases/download/v0.14.5/webapp-v0.14.5.zip",
          "dest": "app/webapp",
          "sha256": "c401221ccd15982a7cdfa4eed31e5092979bfd49fdea39e50fe1e625b19b9b17"
        }
      ]
    }
  ]
}
