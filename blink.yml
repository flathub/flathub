id: com.github.blink
runtime: org.kde.Platform
runtime-version: '6.6'
sdk: org.kde.Sdk
finish-args:
  - --share=ipc
  - --socket=fallback-x11
  - --socket=wayland
  - --device=dri
modules:
  - name: qscintilla
    buildsystem: qmake
    subdir: src
    sources:
      - type: archive
        url: https://www.riverbankcomputing.com/static/Downloads/QScintilla/2.13.4/QScintilla_src-2.13.4.tar.gz
        sha256: 890c261f31e116f426b0ea03a136d44fc89551ebfd126d7b0bdf8a7197879986
      - type: patch
        path: qscintilla-lib-paths.patch
  - name: blink
    buildsystem: cmake
    builddir: true
    config-opts:
      - -DCMAKE_BUILD_TYPE=RelWithDebInfo
      - -DCMAKE_INSTALL_LIBDIR:PATH=/app/lib
    sources:
      - type: dir
        path: /opt/blink
command: /app/blink/blink
