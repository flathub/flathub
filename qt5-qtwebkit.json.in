{
    // see also: "base": "io.qt.qtwebkit.BaseApp"
    // https://github.com/flathub/io.qt.qtwebkit.BaseApp/blob/master/io.qt.qtwebkit.BaseApp.json
    //"name": "qtwebkit",
    "name": "qt5-qtwebkit",
    // The "buildsystem": "cmake-ninja" isn't available in flatpak 0.8.x in EL7 7.5
    // https://github.com/flatpak/flatpak/issues/461
    // https://github.com/matthiasclasen/flatpak/commit/75ae3d946e9787af3fb3281aedcb19358eb5bcfb
    //"buildsystem": "cmake-ninja",
    "buildsystem": "cmake",
    "builddir": true,
    "config-opts": [
        "-DCMAKE_BUILD_TYPE=Release",
        //"-DENABLE_TESTING=OFF",
        "-DCMAKE_INSTALL_LIBDIR=lib",
        //"-DENABLE_API_TESTS=OFF",
        //"-DENABLE_INSPECTOR_UI=OFF",
        //"-DENABLE_LEGACY_WEB_AUDIO=OFF",
        //"-DENABLE_MEDIA_SOURCE=OFF",
        //"-DENABLE_NETSCAPE_PLUGIN_API=OFF",
        //"-DENABLE_PRINT_SUPPORT=OFF",
        //"-DENABLE_SAMPLING_PROFILER=OFF",
        //"-DENABLE_SPELLCHECK=OFF",
        //"-DENABLE_VIDEO=OFF",
        //"-DENABLE_WEBKIT2=OFF",
        //"-DENABLE_WEB_AUDIO=OFF",
        //"-DUSE_GSTREAMER=OFF",
        //"-DENABLE_TOOLS=OFF",
        //"-DCMAKE_C_FLAGS_RELEASE:STRING=-DNDEBUG",
        //"-DCMAKE_CXX_FLAGS_RELEASE:STRING=-DNDEBUG",
        "-DCMAKE_VERBOSE_MAKEFILE:BOOL=ON",
        "-DPORT=Qt"
    ],
    // https://bugzilla.redhat.com/show_bug.cgi?id=1456261
    // https://bugs.webkit.org/show_bug.cgi?id=140176
    "build-options": {
        "arch": {
            "i386": {
                "cflags": "-O2 -g1 -Wno-deprecated-declarations",
                "cxxflags": "-O2 -g1 -Wno-deprecated-declarations -fpermissive"
            },
            "arm": {
                "cflags": "-O2 -g1 -Wno-deprecated-declarations",
                "cxxflags": "-O2 -g1 -Wno-deprecated-declarations -fpermissive"
            }
        }
    },
    "sources": [
        //{
        //    "type": "archive",
        //    "url": "https://github.com/annulen/webkit/releases/download/qtwebkit-5.212.0-alpha2/qtwebkit-5.212.0-alpha2.tar.xz",
        //    "sha256": "f8f901de567e11fc5659402b6b827eac75505ff9c5072d8e919aa306003f8f8a"
        //}
        {
            "type": "git",
            "url": "git://code.qt.io/qt/qtwebkit.git",
            "branch": "5.212",
            //"tag": "v5.212.0-alpha2",
            "commit": "72cfbd7664f21fcc0e62b869a6b01bf73eb5e7da"
        }
    ],
    "post-install": [
        "mv '/app/mkspecs' '/app/lib';"
    ],
    "cleanup-platform": [
        //"/bin",
        "/mkspecs"
    ]
}
