{
  "app-id": "com.airtame.Client",
  "runtime": "org.freedesktop.Platform",
  "runtime-version": "18.08",
  "sdk": "org.freedesktop.Sdk",
  "base": "io.atom.electron.BaseApp",
  "base-version": "stable",
  "command": "airtame",
  "finish-args": [
    "--share=ipc",
    "--socket=x11",
    "--share=network"
  ],
  "modules": [
    "shared-modules/udev/udev-175.json",
    {
      "name": "airtame",
      "buildsystem": "simple",
      "build-commands": [
        "install -D apply_extra /app/bin/apply_extra",
        "install -D airtame.sh /app/bin/airtame"
      ],
      "sources": [
        {
          "type": "script",
          "dest-filename": "apply_extra",
          "commands": [
            "mkdir airtame-application",
            "tar -C airtame-application --strip 1 -xf airtame-application.tar.gz",
            "rm -f airtame-application.tar.gz",
            "mkdir -p export/share/applications",
            "sed -e 's/Icon=.*/Icon=com.airtame.Client/' -e '\\$/opt/$d' airtame-application/airtame-application.desktop > export/share/applications/com.airtame.Client.desktop",
            "mkdir -p export/share/icons/hicolor/512x512/apps",
            "cp airtame-application/icon.png export/share/icons/hicolor/512x512/apps/com.airtame.Client.png",
            "chmod a+xr ."
          ]
        },
        {
          "type": "script",
          "dest-filename": "airtame.sh",
          "commands": [
            "exec /app/extra/airtame-application/launch-airtame.sh \"$@\""
          ]
        },
        {
          "type": "extra-data",
          "filename": "airtame-application.tar.gz",
          "only-arches": [
            "x86_64"
          ],
          "url": "http://downloads-cdn.airtame.com/application/ga/lin_x64/releases/airtame-application-3.3.2.tar.gz",
          "sha256": "c89f2292d4fd156a342366a44e69d78909ae2022bdd153e3ab88b13c20a66709",
          "size": 75247700
        },
        {
          "type": "extra-data",
          "filename": "airtame-application.tar.gz",
          "only-arches": [
            "i386"
          ],
          "url": "http://downloads-cdn.airtame.com/application/ga/lin_x86/releases/airtame-application-3.3.2.tar.gz",
          "sha256": "c89f2292d4fd156a342366a44e69d78909ae2022bdd153e3ab88b13c20a66709",
          "size": 76540076
        }
      ]
    }
  ]
}
