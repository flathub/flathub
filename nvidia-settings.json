{
	"id":"com.nvidia.nvidia-settings",
	"runtime": "org.freedesktop.Platform",
	"branch":"384.47",
	"runtime-version": "1.6",
	"sdk":"org.freedesktop.Sdk",
	"command":"nvidia-settings",
	"finish-args":[
		"--device=dri",
		"--socket=x11",
		"--share=ipc",
		"--extension=org.freedesktop.Platform.GL=version=1.4",
		"--extension=org.freedesktop.Platform.GL=versions=1.6;1.4",
		"--extension=org.freedesktop.Platform.GL=directory=lib/GL",
		"--extension=org.freedesktop.Platform.GL=subdirectories=true",
		"--extension=org.freedesktop.Platform.GL=no-autodownload=true",
		"--extension=org.freedesktop.Platform.GL=autodelete=false",
		"--extension=org.freedesktop.Platform.GL=add-ld-path=lib",
		"--extension=org.freedesktop.Platform.GL=merge-dirs=vulkan/icd.d;glvnd/egl_vendor.d",
		"--extension=org.freedesktop.Platform.GL=download-if=active-gl-driver",
		"--extension=org.freedesktop.Platform.GL=enable-if=active-gl-driver"
	],
	"cleanup":[
		"/share/man"
	],
	"cleanup-commands":[
		"mkdir -p /app/lib/GL"
	],
	"rename-icon":"nvidia-settings",
	"rename-desktop-file":"nvidia-settings.desktop",
	"modules":[
		{
			"name":"nvidia-settings",
			"no-autogen":true,
			"make-args":[
				"PREFIX=/app"
			],
			"make-install-args":[
				"PREFIX=/app"
			],
			"build-commands":[
				"mkdir -p /app/share/applications",
				"cp nvidia-settings.desktop /app/share/applications/nvidia-settings.desktop",
				"mkdir -p /app/share/icons/hicolor/128x128/apps",
				"cp nvidia-settings.png /app/share/icons/hicolor/128x128/apps/nvidia-settings.png"
			],
			"sources":[
				{
					"type":"git",
					"url":"https://github.com/NVIDIA/nvidia-settings.git",
					"branch":"384.47"
				},
				{
					"type":"file",
					"path":"nvidia-settings.desktop"
				},
				{
					"type":"file",
					"path":"nvidia-settings.png"
				}
			],
			"modules":[
				{
					"name":"gtk",
					"cleanup":["*"],
					"config-opts":[
						"--prefix=/app",
						"--sysconfdir=/app/etc",
						"--localstatedir=/app/var",
						"--with-xinput=yes"
					],
					"sources":[
						{
							"type":"archive",
							"url":"http://ftp.gnome.org/pub/gnome/sources/gtk+/2.24/gtk+-2.24.31.tar.xz",
							"sha256":"68c1922732c7efc08df4656a5366dcc3afdc8791513400dac276009b40954658"
						}
					]
				}
			]
		}
	]
}
