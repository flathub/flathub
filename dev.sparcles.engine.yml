id: dev.sparcles.engine
runtime: org.freedesktop.Platform
runtime-version: '23.08'
sdk: org.freedesktop.Sdk
command: srengine

build-options:
  build-args:
    - --share=network

modules:
#   - name: requests
#     buildsystem: simple
#     build-commands:
#       - pip3 install --prefix=/app --no-deps .
#     sources:
#       - type: archive
#         url: https://files.pythonhosted.org/packages/d5/f7/2fdd9205a2eedee7d9b0abbf15944a1151eb943001dbdc5233b1d1cfc34e/Cython-3.0.10.tar.gz
#         sha256: dcc96739331fb854dcf503f94607576cfe8488066c61ca50dfd55836f132de99

   - python3-req.json

   - name: srengine
     buildsystem: cmake-ninja
     config-opts:
       - -DCMAKE_BUILD_TYPE=Release
     build-commands:
       - cmake --build . -j 10
     builddir: true
     sources:
       - type: dir
         path: /home/nrv/Documents/repos/sparcle/SREngine
finish-args:
  - --share=ipc
  - --socket=x11
  - --device=dri
  - --socket=pulseaudio
  - --share=network
