{
	"app-id": "io.github.Freedoom-Phase-2",
	"runtime": "org.freedesktop.Platform",
	"sdk": "org.freedesktop.Sdk",
	"runtime-version": "1.6",
	"command": "gzdoom",
	"rename-desktop-file": "freedoom2.desktop",
	"rename-appdata-file": "freedoom2.appdata.xml",
	"rename-icon": "freedoom2",
	"finish-args": [
		"--device=dri",
		"--socket=wayland",
		"--socket=x11",
		"--socket=pulseaudio",
		"--env=DOOMWADDIR=/app/share/games/doom"
	],
	"modules": [
		{
			"name": "gzdoom",
			"buildsystem": "cmake",
			"sources": [
				{
					"type": "archive",
					"url": "https://github.com/coelckers/gzdoom/archive/g3.1.0.tar.gz",
					"sha256": "c011ce9a95b765da5b81cf723062379d585c57cb586848385a2319deba1996c3"
				}
			]
		},
		{
			"name": "freedoom1",
			"buildsystem": "simple",
			"sources": [
				{
					"type": "archive",
					"url": "https://github.com/freedoom/freedoom/releases/download/v0.11.3/freedoom-0.11.3.zip",
					"sha256": "28a5eafbb1285b78937bd408fcdd8f25f915432340eee79da692eae83bce5e8a"
				},
				{
					"type": "file",
					"url": "https://raw.githubusercontent.com/freedoom/freedoom/v0.11.3/dist/freedoom2.desktop",
					"sha256": "e6ac94bcbd6bbd0458c8bdae1286664042b4843e9cf558b9918eb85ff28d4626"
				},
				{
					"type": "file",
					"url": "https://raw.githubusercontent.com/freedoom/freedoom/v0.11.3/dist/freedoom2.appdata.xml",
					"sha256": "3802e4a169bb9c1dd7c481e0e62b92f5f7bbfac1778316a5615f0c9353e6e953"
				},
				{
					"type": "file",
					"url": "https://raw.githubusercontent.com/freedoom/freedoom/9c6c68127672feee501d5e5cab9d5e15c3dbf8b3/sprites/heada1.png",
					"sha256": "49665ff13e242a1cde864acf314dc16f3623786876d390c2f4495b6685a30a3a"
				}
			],
			"build-commands": [
				"install -Dm 644 freedoom2.wad /app/share/games/doom",
				"sed -i 's/Exec=freedoom2/Exec=gzdoom/g' freedoom2.desktop",
				"install -Dm 644 freedoom2.desktop -t /app/share/applications",
				"install -Dm 644 freedoom2.appdata.xml -t /app/share/appdata",
				"mv heada1.png freedoom2.png",
				"install -Dm 644 freedoom2.png -t /app/share/icons/hicolor/64x64/apps"
			]
		}
	]
}
