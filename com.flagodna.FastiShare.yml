app-id: com.flagodna.FastiShare
runtime: org.freedesktop.Platform
runtime-version: "23.08"
sdk: org.freedesktop.Sdk
command: run-fastishare.sh
finish-args:
  - --share=network
  - --share=ipc
  - --socket=x11
  - --socket=wayland
  - --device=dri
  - --filesystem=home
  - --talk-name=org.freedesktop.Notifications
modules:
  - name: fastishare
    buildsystem: simple
    build-commands:
      - install -Dm755 bundle/fastishare /app/bin/fastishare
      - cp -r bundle/data /app/bin/data
      - cp -r bundle/lib /app/bin/lib
      - |
        echo '#!/bin/sh
        cd /app/bin
        exec ./fastishare' > run-fastishare.sh
      - install -Dm755 run-fastishare.sh /app/bin/run-fastishare.sh
    sources:
      - type: git
        url: https://github.com/Flagodna-Developer/FastiShare.git
        branch: bundles

      - type: file
        path: com.flagodna.FastiShare.desktop
      - type: file
        path: com.flagodna.FastiShare.png
      - type: file
        path: com.flagodna.FastiShare.metainfo.xml
