{
  "app-id" : "io.github.mhogomchungu.sirikali",
  "runtime" : "org.kde.Platform",
  "runtime-version" : "6.7",
  "sdk" : "org.kde.Sdk",
  "command" : "io.github.mhogomchungu.sirikali",
  "finish-args" : [
    "--share=ipc",
    "--socket=wayland",
    "--socket=fallback-x11",
    "--filesystem=xdg-documents",
    "--share=network",
    "--device=dri",
    "--talk-name=org.kde.StatusNotifierWatcher",
    "--talk-name=org.freedesktop.Flatpak"
  ],
  "modules" : [
    {
      "name" : "libfuse",
      "buildsystem" : "autotools",
      "cleanup" : [
        "/include",
        "/lib/pkgconfig",
        "*.a",
        "*.la",
        "/lib/libulockmgr*"
      ],
      "config-opts" : [
        "--disable-util"
      ],
      "sources" : [
        {
          "type" : "archive",
          "url" : "https://github.com/libfuse/libfuse/releases/download/fuse-2.9.9/fuse-2.9.9.tar.gz",
          "sha256" : "d0e69d5d608cc22ff4843791ad097f554dd32540ddc9bed7638cc6fea7c1b4b5"
        },
        {
          "type" : "patch",
          "paths" : [
            "patches/fuse-disable-sys-mount-under-flatpak.patch",
            "patches/fuse-2.9.2-namespace-conflict-fix.patch",
            "patches/fuse-closefrom.patch"
          ]
        }
      ]
    },
    {
      "name" : "absl",
      "buildsystem" : "cmake-ninja",
      "cleanup" : [
        "*"
      ],
      "sources" : [
        {
          "type" : "archive",
          "url" : "https://github.com/abseil/abseil-cpp/releases/download/20240722.0/abseil-cpp-20240722.0.tar.gz",
          "sha256" : "f50e5ac311a81382da7fa75b97310e4b9006474f9560ac46f54a9967f07d4ae3"
        }
      ]
    },
    {
      "name" : "cryptopp-cmake",
      "buildsystem" : "cmake-ninja",
      "cleanup" : [
        "*"
      ],
      "config-opts" : [
        "-DCRYPTOPP_SOURCES=src/deps/cryptopp1",
        "-DCRYPTOPP_BUILD_TESTING=OFF",
        "-DCRYPTOPP_BUILD_DOCUMENTATION=OFF"
      ],
      "sources" : [
        {
          "type" : "archive",
          "url" : "https://github.com/abdes/cryptopp-cmake/archive/refs/tags/CRYPTOPP_8_9_0.tar.gz",
          "sha256" : "191d69061c56602de1610ebf03b44dcf75636006e7e60ef8105bee6472ec0caf"
        },
        {
          "type" : "archive",
          "url" : "https://github.com/weidai11/cryptopp/archive/refs/tags/CRYPTOPP_8_9_0.tar.gz",
          "sha256" : "ab5174b9b5c6236588e15a1aa1aaecb6658cdbe09501c7981ac8db276a24d9ab",
          "dest" : "src/deps/cryptopp1"
        }
      ]
    },
    {
      "name" : "uni-algo",
      "buildsystem" : "cmake-ninja",
      "cleanup" : [
        "*"
      ],
      "sources" : [
        {
          "type" : "archive",
          "url" : "https://github.com/uni-algo/uni-algo/archive/refs/tags/v1.2.0.tar.gz",
          "sha256" : "f2a1539cd8635bc6088d05144a73ecfe7b4d74ee0361fabed6f87f9f19e74ca9"
        }
      ]
    },
    {
      "name" : "protobuf",
      "buildsystem" : "cmake-ninja",
      "cleanup" : [
        "*"
      ],
      "config-opts" : [
        "-Dprotobuf_BUILD_TESTS=OFF",
        "-Dprotobuf_BUILD_CONFORMANCE=OFF",
        "-Dprotobuf_ABSL_PROVIDER=package"
      ],
      "sources" : [
        {
          "type" : "archive",
          "url" : "https://github.com/protocolbuffers/protobuf/releases/download/v28.2/protobuf-28.2.tar.gz",
          "sha256" : "b2340aa47faf7ef10a0328190319d3f3bee1b24f426d4ce8f4253b6f27ce16db"
        }
      ]
    },
    {
      "name" : "argon2",
      "buildsystem" : "cmake-ninja",
      "cleanup" : [
        "*"
      ],
      "sources" : [
        {
          "type" : "file",
          "url" : "https://raw.githubusercontent.com/microsoft/vcpkg/98aa6396292d57e737a6ef999d4225ca488859d5/ports/argon2/CMakeLists.txt",
          "sha256" : "55492f7b05cdcb2c3fd78abc1bedad79e9c8186623a7ff91bdd4582fd3f07992"
        },
        {
          "type" : "file",
          "url" : "https://raw.githubusercontent.com/microsoft/vcpkg/98aa6396292d57e737a6ef999d4225ca488859d5/ports/argon2/unofficial-argon2-config.cmake",
          "sha256" : "0ba4414821d7f76edef65af4d2c15fd4dfbafe8a6ef5da43155267c8e41817f3"
        },
        {
          "type" : "archive",
          "url" : "https://github.com/P-H-C/phc-winner-argon2/archive/refs/tags/20190702.tar.gz",
          "sha256" : "daf972a89577f8772602bf2eb38b6a3dd3d922bf5724d45e7f9589b5e830442c"
        }
      ]
    },
    {
      "name" : "fruit",
      "buildsystem" : "cmake-ninja",
      "cleanup" : [
        "/include",
        "/lib/pkgconfig",
        "*.a"
      ],
      "config-opts" : [
        "-DCMAKE_BUILD_TYPE=Release",
        "-DFRUIT_USES_BOOST=False"
      ],
      "sources" : [
        {
          "type" : "archive",
          "url" : "https://github.com/google/fruit/archive/refs/tags/v3.7.1.tar.gz",
          "sha256" : "ed4c6b7ebfbf75e14a74e21eb74ce2703b8485bfc9e660b1c36fb7fe363172d0"
        }
      ]
    },
    {
      "name" : "securefs",
      "buildsystem" : "cmake-ninja",
      "config-opts" : [
        "-DSECUREFS_USE_VCPKG=FALSE",
        "-DSECUREFS_ENABLE_UNIT_TEST=FALSE",
        "-DTCLAP_INCLUDE_DIRS=tclap/include"
      ],
      "sources" : [
        {
          "type" : "archive",
          "url" : "https://github.com/mirror/tclap/archive/refs/tags/v1.2.5.tar.gz",
          "sha256" : "7e87d13734076fa4f626f6144ce9a02717198b3f054341a6886e2107b048b235",
          "dest" : "tclap"
        },
        {
          "type" : "archive",
          "url" : "https://github.com/netheril96/securefs/archive/refs/tags/v1.0.0.tar.gz",
          "sha256" : "de888359734a05ca0db56d006b4c9774f18fd9e6f9253466a86739b5f6ac3753"
        },
        {
          "type" : "patch",
          "paths" : [
            "patches/securefs.patch"
          ]
        }
      ]
    },
    {
      "name" : "io.github.mhogomchungu.sirikali",
      "buildsystem" : "cmake-ninja",
      "config-opts" : [
        "-DCMAKE_BUILD_TYPE=release",
        "-DBUILD_FLATPAK=TRUE"
      ],
      "sources" : [
        {
          "type" : "archive",
          "url" : "https://github.com/mhogomchungu/sirikali/releases/download/1.6.0/sirikali-1.6.0.2.tar.xz",
          "sha256" : "d710ae1018e151fd334cd1b6b795cecd977a4fa5511aa270c3e5cbbc40db9fd0"
        }
      ]
    }
  ]
}
