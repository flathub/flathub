{
  "app-id" : "org.gnome.gnome-latex",
  "runtime" : "org.gnome.Sdk",
  "runtime-version" : "3.30",
  "platform-extensions" : [
    "org.freedesktop.Sdk.Extension.texlive"
  ],
  "sdk" : "org.gnome.Sdk",
  "command" : "gnome-latex",
  "finish-args" : [
    "--socket=x11",
    "--socket=wayland",
    "--filesystem=home",
    "--share=ipc",
    "--socket=session-bus",
    "--filesystem=xdg-run/dconf",
    "--talk-name=ca.desrt.dconf",
    "--env=DCONF_USER_CONFIG_DIR=.config/dconf",
    "--talk-name=org.freedesktop.Notifications",
    "--env=PATH=/usr/bin:/app/bin:/usr/lib/sdk/texlive/bin/x86_64-linux"
  ],
  "cleanup" : ["/include", "/lib/pkgconfig",
               "/share/pkfconfig", "/share/aclocal",
               "/man", "/share/man", "/share/gtk-doc",
               "/share/vala",
               "*.la", "*.a"],
  "modules" : [
    {
      "name" : "vala",
      "config-opts" : [
        "--disable-valadoc"
      ],
      "sources" : [
        {
          "type" : "git",
          "url" : "https://gitlab.gnome.org/GNOME/vala.git",
          "tag" : "0.40.12"
        },
        {
          "type" : "patch",
          "path" : "patches/Allow-disabling-valadoc.patch"
        }
      ]
    },
    {
      "name" : "gtksourceview-4",
      "sources" : [
        {
          "type" : "git",
          "url" : "https://gitlab.gnome.org/GNOME/gtksourceview.git",
          "tag" : "4.0.3"
        }
      ]
    },
    {
      "name" : "amtk",
      "builddir" : true,
      "sources" : [
        {
          "type" : "git",
          "url" : "https://gitlab.gnome.org/GNOME/amtk.git",
          "tag" : "5.0.0"
        }
      ]
    },
    {
      "name" : "uchardet",
      "buildsystem" : "cmake",
      "sources" : [
        {
          "type" : "git",
          "url" : "https://github.com/BYVoid/uchardet.git",
          "tag" : "v0.0.5"
        }
      ]
    },
    {
      "name" : "tepl",
      "sources" : [
        {
          "type" : "git",
          "url" : "https://gitlab.gnome.org/GNOME/tepl.git",
          "tag" : "4.2.0"
        }
      ]
    },
    {
      "name" : "gspell",
      "sources" : [
        {
          "type" : "git",
          "url" : "https://gitlab.gnome.org/GNOME/gspell.git",
          "tag" : "1.8.1"
        }
      ]
    },
    {
      "name" : "libgee",
      "config-opts" : [
        "--enable-introspection=no",
        "--disable-static"
      ],
      "sources" : [
        {
          "type" : "git",
          "url" : "https://gitlab.gnome.org/GNOME/libgee.git",
          "tag" : "0.20.1"
        }
      ]
    },
    {
      "name" : "gnome-latex",
      "sources" : [
        {
          "type" : "git",
          "url" : "https://gitlab.gnome.org/coldtom/gnome-latex.git",
          "tag" : "3.30.2-flatpak"
          // Using a fork to rename images so flatpak finds them nicely
        }
      ]
    }
  ]
}
