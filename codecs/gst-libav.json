{
    "name": "gst-libav",
    "config-opts": [ "--with-system-libav=no", "--disable-gtk-doc" ],
    "rm-configure": true,
    "cleanup" : [ "/share/gtk-doc" ],
    "sources": [
        {
            "type": "archive",
            "url": "https://gstreamer.freedesktop.org/src/gst-libav/gst-libav-1.15.1.tar.xz",
            "sha256": "93eacda6327ee4fcbb3254e68757d555196d1e2c689e1b79a46e28f33ef20543"
        },
        {
            "type": "patch",
            "path": "gst-libav/00_plugin-dependencies.patch"
        },
        {
            "type": "patch",
            "path": "gst-libav/01_disable-1.15-api.patch"
        },
        {
            "type": "patch",
            "path": "gst-libav/02_drop-1.15-dependency.patch"
        },
        {
            "type": "patch",
            "path": "gst-libav/0001-Revert-avauddec-add-support-for-decoding-in-non-inte.patch"
        }
    ],
    "post-install": [
        "mkdir -p /app/lib/codecs/lib/gstreamer-1.0",
        "mv /app/lib/gstreamer-1.0/*.so /app/lib/codecs/lib/gstreamer-1.0"
    ]
}
