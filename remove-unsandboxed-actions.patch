From 9d3d4d1a186cbb8fee4eef7fd2bc2cb7b1653485 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Matthias=20Mail=C3=A4nder?=
Date: Sat, 15 Feb 2025 19:55:51 +0100
Subject: [PATCH] Remove actions that won't work while sandboxed.

---
 src/StdCleanup.cpp | 5 +----
 src/main-window.ui | 5 -----
 2 files changed, 1 insertion(+), 9 deletions(-)

diff --git a/src/StdCleanup.cpp b/src/StdCleanup.cpp
index 1f0f822..48816d1 100644
--- a/src/StdCleanup.cpp
+++ b/src/StdCleanup.cpp
@@ -19,12 +19,9 @@ CleanupList StdCleanup::stdCleanups( QObject * parent )
 {
     CleanupList cleanups;
 
-    cleanups << openFileManagerHere( parent )
-	     << openTerminalHere   ( parent )
-	     << checkFileType      ( parent )
+    cleanups << checkFileType      ( parent )
 	     << compressSubtree	   ( parent )
 	     << makeClean	   ( parent )
-	     << gitClean	   ( parent )
 	     << deleteJunk	   ( parent )
 	     << hardDelete	   ( parent )
 	     << clearDirContents   ( parent )
diff --git a/src/main-window.ui b/src/main-window.ui
index 38a2071..dc2cd9a 100644
--- a/src/main-window.ui
+++ b/src/main-window.ui
@@ -241,7 +241,6 @@
      <string>&amp;Edit</string>
     </property>
     <addaction name="actionCopyPathToClipboard"/>
-    <addaction name="actionMoveToTrash"/>
     <addaction name="actionFindFiles"/>
     <addaction name="separator"/>
     <addaction name="actionConfigure"/>
@@ -302,8 +301,6 @@
     <property name="title">
      <string>&amp;Clean Up</string>
     </property>
-    <addaction name="actionMoveToTrash"/>
-    <addaction name="separator"/>
    </widget>
    <widget class="QMenu" name="menuDiscover">
     <property name="title">
@@ -348,8 +345,6 @@
    <addaction name="actionLayout2"/>
    <addaction name="actionLayout3"/>
    <addaction name="separator"/>
-   <addaction name="actionMoveToTrash"/>
-   <addaction name="separator"/>
   </widget>
   <action name="actionQuit">
    <property name="icon">
-- 
2.48.1

