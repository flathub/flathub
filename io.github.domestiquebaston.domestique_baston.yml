app-id: io.github.domestiquebaston.domestique_baston
runtime: org.freedesktop.Platform
runtime-version: '23.08'
base: org.godotengine.godot.BaseApp
base-version: '3.5-23.08'
sdk: org.freedesktop.Sdk
command: godot-runner
finish-args:
  - --share=ipc
  - --socket=x11
  - --device=all
  - --socket=pulseaudio
modules:
  - name: domestique_baston
    buildsystem: simple
    build-commands:
      - install -D -m 0644 db.pck /app/bin/godot-runner.pck
      - install -d /app/share/doc/$FLATPAK_ID
      - install -D -m 0644 *.pdf /app/share/doc/$FLATPAK_ID
      - install -D -m 0644 $FLATPAK_ID.metainfo.xml /app/share/metainfo/$FLATPAK_ID.metainfo.xml
      - install -D -m 0644 $FLATPAK_ID.desktop /app/share/applications/$FLATPAK_ID.desktop
      - install -D -m 0644 icon256.png /app/share/icons/hicolor/256x256/apps/$FLATPAK_ID.png
    sources:
      - type: file
        url: 'https://github.com/DomestiqueBaston/DOMESTIQUE_BASTON/releases/download/v1.1/db.pck'
        sha256: '45d2a88235e894a54b4f95134166d14c5b4f5b2f3cebf0e4d0a9e67e58b96675'
      - type: file
        url: 'https://github.com/DomestiqueBaston/DOMESTIQUE_BASTON/raw/refs/tags/v1.1/io.github.domestiquebaston.domestique_baston.desktop'
        sha256: '8523c9d863da91529c7d1a9e4bc8e04728aa475aa6f41ad9f49a602719aeb628'
      - type: file
        url: 'https://github.com/DomestiqueBaston/DOMESTIQUE_BASTON/raw/refs/tags/v1.1/io.github.domestiquebaston.domestique_baston.metainfo.xml'
        sha256: '63a54b2063bc2e8d57a39068590baf5e12004ed650c103c5d4270894bf8db12d'
      - type: file
        url: 'https://github.com/DomestiqueBaston/DOMESTIQUE_BASTON/raw/refs/tags/v1.1/icon256.png'
        sha256: '05969263f0a3339ca79bf7d2c12ac43fb04d5d269f6b2e309c51293a7060878c'
      - type: file
        url: 'https://github.com/DomestiqueBaston/DOMESTIQUE_BASTON/raw/refs/tags/v1.1/Docs/Comment_jouer_How_to_Play.pdf'
        sha256: '1b4cc73b4457bcdf9a2078d9ff531e80860f249ed61ae63e6a3ab13a3aafcf43'
      - type: file
        url: 'https://github.com/DomestiqueBaston/DOMESTIQUE_BASTON/raw/refs/tags/v1.1/Docs/Manuel_Manual.pdf'
        sha256: 'f6685787910a770a97acae8dab224e8c422ba1671f3dfc19d2dd038dc927b700'
      - type: file
        url: 'https://github.com/DomestiqueBaston/DOMESTIQUE_BASTON/raw/refs/tags/v1.1/Docs/Aidez_nous_a_ameliorer_le_jeu_help_us_improve_the_game.pdf'
        sha256: '8fbdd21792386bb9eb72955d8e7a7b65037410471264e46323c4745808bd3ca8'
