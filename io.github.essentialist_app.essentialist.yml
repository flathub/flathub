app-id: io.github.essentialist_app.essentialist
runtime: org.freedesktop.Platform
runtime-version: '24.08'
sdk: org.freedesktop.Sdk
sdk-extensions:
    - org.freedesktop.Sdk.Extension.golang
command: essentialist
finish-args:
  - --share=ipc
  - --socket=wayland
  - --socket=fallback-x11
  - --device=dri
build-options:
  env:
    - GOBIN=/app/bin
    - GOROOT=/usr/lib/sdk/golang
modules:
  - name: essentialist
    buildsystem: simple
    build-commands:
      - $GOROOT/bin/go build -o essentialist ./cmd/essentialist
      - install -Dm00755 essentialist /app/bin/essentialist
    sources:
      - type: git
        url: https://github.com/essentialist-app/essentialist.git
        tag: v0.3.1
      # Update with `go run github.com/dennwc/flatpak-go-mod@latest .`
      # Workaround for Go modules generated by github.com/dennwc/flatpak-go-mod
      - dest: vendor
        path: modules.txt
        type: file
      - dest: vendor/fyne.io/fyne/v2
        sha256: 18558f8ea664dd8a03bba87c8d889a5da69c5dbe0d761640e1a709bdf0886d69
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/fyne.io/fyne/v2/@v/v2.5.1.zip
      - dest: vendor/github.com/MichaelMure/go-term-markdown
        sha256: 927ac4bbd72c3c508ce0f4fff49615b5059cff738a977b94aa6feb64e249d17c
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/!michael!mure/go-term-markdown/@v/v0.1.4.zip
      - dest: vendor/github.com/fatih/color
        sha256: 8a5b6e94ab49de6f869d3efd4e042ffd46c2a127f25139f6ebb6146e4c9eb1c4
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/fatih/color/@v/v1.17.0.zip
      - dest: vendor/github.com/gizak/termui/v3
        sha256: 59f5106214d3f23dcd93d5f880163f653aa49bcfeb7c4d592f6cbc35326db265
        strip-components: 4
        type: archive
        url: https://proxy.golang.org/github.com/gizak/termui/v3/@v/v3.1.0.zip
      - dest: vendor/github.com/yuin/goldmark
        sha256: 7e0a308bb016a245a6e20ed44f088b0a17b46ccac70e454735ae1575703a4816
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/yuin/goldmark/@v/v1.7.4.zip
      - dest: vendor/github.com/yuin/goldmark-emoji
        sha256: 0de4f6e4295e89139213455ba79f7bce6a2936fe6c42d956601a0c8ec8bc58d4
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/yuin/goldmark-emoji/@v/v1.0.3.zip
      - dest: vendor/fyne.io/systray
        sha256: 1aa0ddb87db36f5b81b61d5adb54a9c69f98af59246de30e259fc7a600433284
        strip-components: 2
        type: archive
        url: https://proxy.golang.org/fyne.io/systray/@v/v1.11.0.zip
      - dest: vendor/github.com/BurntSushi/toml
        sha256: d9274d5bffdb7ff09889055b42d9e123783565ee776d63a7315219ec15a98276
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/!burnt!sushi/toml/@v/v1.4.0.zip
      - dest: vendor/github.com/MichaelMure/go-term-text
        sha256: cf88413f20a8802c3c6da5cb85e307a6781d9787f801902bf83a325300e32e4b
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/!michael!mure/go-term-text/@v/v0.3.1.zip
      - dest: vendor/github.com/alecthomas/chroma
        sha256: beb07b996ee33bc052fe039c93d1c0726e61bcc4819ca39f7bf63304f2ae8c49
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/alecthomas/chroma/@v/v0.10.0.zip
      - dest: vendor/github.com/davecgh/go-spew
        sha256: 6b44a843951f371b7010c754ecc3cabefe815d5ced1c5b9409fb2d697e8a890d
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/davecgh/go-spew/@v/v1.1.1.zip
      - dest: vendor/github.com/disintegration/imaging
        sha256: 2934e7bace3c8c0b1b4a07144197e8720b9ffbe922600e3a3c764f77792ac7c4
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/disintegration/imaging/@v/v1.6.2.zip
      - dest: vendor/github.com/dlclark/regexp2
        sha256: 29613e60dfc18d0f94c6382522b2496716e01dce8bd660fe68c83d3e9acd7386
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/dlclark/regexp2/@v/v1.11.4.zip
      - dest: vendor/github.com/eliukblau/pixterm/pkg/ansimage
        sha256: d54b9f35cdb08bf19299d3bb553737a4028f3e8858bc97868d7ba9befaf04ecb
        strip-components: 5
        type: archive
        url: https://proxy.golang.org/github.com/eliukblau/pixterm/pkg/ansimage/@v/v0.0.0-20191210081756-9fb6cf8c2f75.zip
      - dest: vendor/github.com/fredbi/uri
        sha256: 3b255e9c628d2d257107026e2b1ef2071cdc533ccb2ab3ae57837afe4deab5d8
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/fredbi/uri/@v/v1.1.0.zip
      - dest: vendor/github.com/fsnotify/fsnotify
        sha256: f98f08a95224f2c7a77b62aa4840cefe4970f0ff00e0a027d7e457c3df752bb2
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/fsnotify/fsnotify/@v/v1.7.0.zip
      - dest: vendor/github.com/fyne-io/gl-js
        sha256: 5908d356964c52f437b68f54083885d10bdf4d52892ac39efef23d8ba17fb0ba
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/fyne-io/gl-js/@v/v0.0.0-20230506162202-1fdaa286a934.zip
      - dest: vendor/github.com/fyne-io/glfw-js
        sha256: cfceadb1bf7abaa3c0ff592ea455f1a5865d6f1e536e405a695c8c454550a55d
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/fyne-io/glfw-js/@v/v0.0.0-20240101223322-6e1efdc71b7a.zip
      - dest: vendor/github.com/fyne-io/image
        sha256: 96a87c32400f3041c4d1c4d83a26070f340c98567f12b742149837387332af55
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/fyne-io/image/@v/v0.0.0-20240417123036-dc0ee9e7c964.zip
      - dest: vendor/github.com/go-gl/gl
        sha256: 961f0d3398e4d851e2028bec81e2c3d486e63d22fbf078f71f49644dac317714
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/go-gl/gl/@v/v0.0.0-20231021071112-07e5d0ea2e71.zip
      - dest: vendor/github.com/go-gl/glfw/v3.3/glfw
        sha256: 0fdbe69760c5a250764ce983f01bac4259775e66aeb3be737eb76d9d14db92c4
        strip-components: 5
        type: archive
        url: https://proxy.golang.org/github.com/go-gl/glfw/v3.3/glfw/@v/v0.0.0-20240506104042-037f3cc74f2a.zip
      - dest: vendor/github.com/go-text/render
        sha256: 462451bc44a6189b43fdb428984537446398b7cfd949c457edb35bf0a76cb555
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/go-text/render/@v/v0.1.1-0.20240418202334-dd62631dae9b.zip
      - dest: vendor/github.com/go-text/typesetting
        sha256: ff08fd58be6e2c6d78d2c9ad3cda77b2f0ba73eb583fe4e732270cdfe84e6a8f
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/go-text/typesetting/@v/v0.1.1.zip
      - dest: vendor/github.com/godbus/dbus/v5
        sha256: 03dfa8e71089a6f477310d15c4d3a036d82d028532881b50fee254358e782ad9
        strip-components: 4
        type: archive
        url: https://proxy.golang.org/github.com/godbus/dbus/v5/@v/v5.1.0.zip
      - dest: vendor/github.com/gomarkdown/markdown
        sha256: 5b45b97e09d8663348c63879bfcce210741bc1ad05f597e0ed0532032b1bb324
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/gomarkdown/markdown/@v/v0.0.0-20240730141124-034f12af3bf6.zip
      - dest: vendor/github.com/gopherjs/gopherjs
        sha256: 10a579f358ed01b90d8efa08878e7068b91bef929929f7c3532ffad3e20b7e67
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/gopherjs/gopherjs/@v/v1.17.2.zip
      - dest: vendor/github.com/jeandeaual/go-locale
        sha256: 0b2da93f7481b42b36777c43c457c6313a897f188621bf0e985519abf9f0d75e
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/jeandeaual/go-locale/@v/v0.0.0-20240223122105-ce5225dcaa49.zip
      - dest: vendor/github.com/jsummers/gobmp
        sha256: e0d7e249d24cc85736529e7984ed2a7ac1579acef570efdc5114456928371b69
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/jsummers/gobmp/@v/v0.0.0-20230614200233-a9de23ed2e25.zip
      - dest: vendor/github.com/kyokomi/emoji/v2
        sha256: 33e19d3512b44a9c522bc71386c39c5fa932ff759a95eaf2f422c9f90b81b097
        strip-components: 4
        type: archive
        url: https://proxy.golang.org/github.com/kyokomi/emoji/v2/@v/v2.2.13.zip
      - dest: vendor/github.com/lucasb-eyer/go-colorful
        sha256: 78d5d0e0737f0f54bbed77b6dfa847d8c871bed2668a9dc44328c7c3411ada10
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/lucasb-eyer/go-colorful/@v/v1.2.0.zip
      - dest: vendor/github.com/mattn/go-colorable
        sha256: 08be322dcc584a9fcfde5caf0cf878b4e11cd98f252e32bc704e92c5a4ba9d15
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/mattn/go-colorable/@v/v0.1.13.zip
      - dest: vendor/github.com/mattn/go-isatty
        sha256: f2d5f89ca451577e17464b9bb596dc0d0ecececb5eaa63622c41b57cd0b7b8cc
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/mattn/go-isatty/@v/v0.0.20.zip
      - dest: vendor/github.com/mattn/go-runewidth
        sha256: 179d2d900c76ee3560fbeda60d0237a3be6acb734d0cb7423b55e5ccb0cedbca
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/mattn/go-runewidth/@v/v0.0.16.zip
      - dest: vendor/github.com/mitchellh/go-wordwrap
        sha256: 5f96426c4b3b3e90a9b7471568cb1d61d6a306744f5d4765a30fa8a61e1c0b47
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/mitchellh/go-wordwrap/@v/v1.0.1.zip
      - dest: vendor/github.com/nicksnyder/go-i18n/v2
        sha256: de00a95d3b841d31f89fa835fb91f4dffa1d042318771fdc599aee3936909ba6
        strip-components: 4
        type: archive
        url: https://proxy.golang.org/github.com/nicksnyder/go-i18n/v2/@v/v2.4.0.zip
      - dest: vendor/github.com/nsf/termbox-go
        sha256: fefe0fb85dcba43367b866789774502c49835288837d17bcd1637f1db7c3a295
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/nsf/termbox-go/@v/v1.1.1.zip
      - dest: vendor/github.com/pmezard/go-difflib
        sha256: de04cecc1a4b8d53e4357051026794bcbc54f2e6a260cfac508ce69d5d6457a0
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/pmezard/go-difflib/@v/v1.0.0.zip
      - dest: vendor/github.com/rivo/uniseg
        sha256: b995e4aa0cc1e5779cc61138ac925cb8c1e963e40c80e4b93ee8553812ebb792
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/rivo/uniseg/@v/v0.4.7.zip
      - dest: vendor/github.com/rymdport/portal
        sha256: 13c28431a1dc621c177c38355abc76a55de1ad8145bac8d584d255b6f972aeae
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/rymdport/portal/@v/v0.2.6.zip
      - dest: vendor/github.com/srwiley/oksvg
        sha256: d8e517dd8a48583bc32892a7c430dda165f79907b1fc9e3d49fe59a2894f587b
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/srwiley/oksvg/@v/v0.0.0-20221011165216-be6e8873101c.zip
      - dest: vendor/github.com/srwiley/rasterx
        sha256: 4e76d6b2bd959c0ab7be2fbe1d9c454817e17d3d64ee49a7d78b1bddb7790a75
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/srwiley/rasterx/@v/v0.0.0-20220730225603-2ab79fcdd4ef.zip
      - dest: vendor/github.com/stretchr/testify
        sha256: ee5d4f73cb689b1b5432c6908a189f9fbdb172507c49c32dbdf79b239ea9b8e0
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/github.com/stretchr/testify/@v/v1.9.0.zip
      - dest: vendor/golang.org/x/image
        sha256: d91e19d9c804398f168b69dfeb046942fe29bc65f803c2875d49c6de698f0d3e
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/golang.org/x/image/@v/v0.19.0.zip
      - dest: vendor/golang.org/x/mobile
        sha256: aca8312bbdfd126a3fa15353036c041cb8de5ea1eb823dddc0d60528a0e1c49a
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/golang.org/x/mobile/@v/v0.0.0-20240806205939-81131f6468ab.zip
      - dest: vendor/golang.org/x/net
        sha256: ac5b507ce23ade56ab75ba16eee5da96db1549a427018290c22acce501c261b9
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/golang.org/x/net/@v/v0.38.0.zip
      - dest: vendor/golang.org/x/sys
        sha256: 55f8255602c7a68419745943298893f0a83d6d6696199cfe6b644054669509f3
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/golang.org/x/sys/@v/v0.31.0.zip
      - dest: vendor/golang.org/x/text
        sha256: 49043b8f569a76d094e6be46ee983df62ff93be4988f665f39f05da1b28b7102
        strip-components: 3
        type: archive
        url: https://proxy.golang.org/golang.org/x/text/@v/v0.23.0.zip
      - dest: vendor/gopkg.in/yaml.v3
        sha256: aab8fbc4e6300ea08e6afe1caea18a21c90c79f489f52c53e2f20431f1a9a015
        strip-components: 2
        type: archive
        url: https://proxy.golang.org/gopkg.in/yaml.v3/@v/v3.0.1.zip
  - name: appdata
    buildsystem: simple
    build-commands:
      - install -Dm644 io.github.essentialist_app.essentialist.metainfo.xml /app/share/metainfo/io.github.essentialist_app.essentialist.metainfo.xml
      - install -Dm644 io.github.essentialist_app.essentialist.desktop /app/share/applications/io.github.essentialist_app.essentialist.desktop
      - install -Dm644 io.github.essentialist_app.essentialist.svg /app/share/icons/hicolor/scalable/apps/io.github.essentialist_app.essentialist.svg
    sources:
      - type: file
        path: io.github.essentialist_app.essentialist.metainfo.xml
      - type: file
        path: io.github.essentialist_app.essentialist.desktop
      - type: file
        path: io.github.essentialist_app.essentialist.svg
