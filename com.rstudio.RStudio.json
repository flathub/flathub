{
	"app-id": "com.rstudio.RStudio",
	"runtime": "org.kde.Platform",
	"runtime-version": "5.9",
	"sdk": "org.kde.Sdk",
	"sdk-extensions": [
		"org.freedesktop.Sdk.Extension.gfortran-62",
		"org.freedesktop.Sdk.Extension.openjdk9"
	],
	"command": "flameshot",
	"rename-icon": "flameshot",
	"rename-desktop-file": "flameshot.desktop",
	"finish-args":[
		"--socket=x11",
		"--socket=wayland",
		"--share=network",
		"--filesystem=home"
	],
	"build-options": {
		"cflags": "-O2",
		"cxxflags": "-O2",
		"env": {
			"PATH": "/usr/bin:/app/bin:/usr/lib/sdk/gfortran-62/bin:/usr/lib/sdk/openjdk9/bin"
		}
	},
	"cleanup": [
		"/include"
	],
	"modules":[	
	{
		"name": "r",
		"config-opts": [
			"--enable-R-shlib"
		],
		"build-options": {
			"ldflags": "-L/usr/lib/sdk/gfortran-62/lib"
    },
		"sources": [
			{
				"type":"archive",
				"url": "https://cran.r-project.org/src/base/R-3/R-3.4.3.tar.gz",
				"sha256":"7a3cb831de5b4151e1f890113ed207527b7d4b16df9ec6b35e0964170007f426"
			}
		]
		},
		{
			"name": "boost",
			"buildsystem": "simple",
			"build-commands":[
				"./bootstrap.sh",
				"./b2 install --prefix=/app"
			],
			"sources":[
				{
					"type": "archive",
					"url": "https://dl.bintray.com/boostorg/release/1.66.0/source/boost_1_66_0.tar.gz",
					"sha256": "bd0df411efd9a585e5a2212275f8762079fed8842264954675a4fddc46cfcf60"
				}
			]
		},
		{
			"name": "qtwebkit",
			"buildsystem": "simple",
			"cleanup-platform": [
				"/bin",
				"/mkspecs"
			],
			"sources": [
				{
					"type": "archive",
					"url": "https://github.com/qt/qtwebkit/archive/v5.212.0-alpha2.tar.gz",
					"sha256": "6db43b931f64857cfda7bcf89914e2730b82164871a8c24c1881620e6bfdeca1"
				}
			],
			"build-commands": [
				"qmake",
				"grep -rl '/usr/local' . | xargs sed -i 's|/usr/local|/app|g'",
				"make",
				"find . -name \"cmake_install.cmake\" | xargs sed -i 's|/usr|/app|g'",
				"make install"
			]
		},
		{
			"name": "rstudio",
			"buildsystem": "cmake",
			"config-opts": [
				"-DRSTUDIO_TARGET=Desktop",
				"-DCMAKE_BUILD_TYPE=Release",
				"-DCMAKE_INSTALL_PREFIX=/app",
				"-DQt5WebKitWidgets_DIR=/app/lib/cmake/Qt5WebKitWidgets"
			],
			"sources":[
				{
					"type":"archive",
					"url": "https://github.com/rstudio/rstudio/archive/v1.1.412.tar.gz",
					"sha256": "1bcb21c1f3b62c1d72647832a57382d4a76df11f51f794b70f2b3647570d5bc5"
				},
				{
					"type":"archive",
					"url": "https://s3.amazonaws.com/rstudio-dictionaries/core-dictionaries.zip",
					"sha256": "4341a9630efb9dcf7f215c324136407f3b3d6003e1c96f2e5e1f9f14d5787494",
					"dest": "dictionaries"
				}
			]
		}
	]
}
