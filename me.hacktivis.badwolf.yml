app-id: me.hacktivis.badwolf
runtime: org.gnome.Platform
runtime-version: "43"
sdk: org.gnome.Sdk
command: badwolf
finish-args:
 - --socket=wayland
 - --socket=fallback-x11
 - --share=network
 - --device=dri
 - --share=ipc
modules:
 - name: badwolf
   buildsystem: simple
   build-commands:
    - PREFIX=/app ./configure
    - make install
    # use standard shortcut name
    - rename -a badwolf me.hacktivis.badwolf /app/share/icons/hicolor/*/apps/badwolf.*
    - sed 's/^Icon=badwolf$/Icon=me.hacktivis.badwolf/' /app/share/applications/badwolf.desktop >/app/share/applications/me.hacktivis.badwolf.desktop
   sources:
    - type: git
      url: "https://hacktivis.me/git/badwolf.git"
      tag: v1.2.2
    - type: patch
      path: "0001-mkdir-p-webkit-web-extension.patch"

