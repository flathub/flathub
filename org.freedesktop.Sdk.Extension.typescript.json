{
    "id": "org.freedesktop.Sdk.Extension.typescript",
    "branch": "22.08",
    "runtime": "org.freedesktop.Sdk",
    "build-extension": true,
    "sdk": "org.freedesktop.Sdk",
    "runtime-version": "22.08",
    "sdk-extensions": [
        "org.freedesktop.Sdk.Extension.node18"
    ],
    "separate-locales": false,
    "appstream-compose": false,
    "build-options": {
        "prefix": "/usr/lib/sdk/typescript",
        "append-path": "/usr/lib/sdk/node18/bin"
    },
    "cleanup": [
        "/share/info",
        "/share/man"
    ],
    "modules": [
        {
            "name": "typescript",
            "buildsystem": "simple",
            "build-options": {
                "env" : {
                    "XDG_CACHE_HOME": "/run/build/typescript/flatpak-node/cache",
                    "npm_config_cache": "/run/build/typescript/flatpak-node/npm-cache"
                }
            },
            "build-commands": [
                "npm install -g --offline --prefix=$FLATPAK_DEST --install-links"
            ],
            "sources": [
                "sources/typescript.json",
                {
                    "type": "archive",
                    "url": "https://github.com/microsoft/TypeScript/releases/download/v5.1.3/typescript-5.1.3.tgz",
                    "sha256": "e23048b17a796af96db4ea0c1a5e4e6928673fb1d42a3c0af6d48a7da861e6bd",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 13733,
                        "stable-only": true,
                        "url-template": "https://github.com/microsoft/TypeScript/releases/download/$version/typescript-$version.tgz"
                    }
                }
            ]
        },
        {
            "name": "metainfo",
            "buildsystem": "simple",
            "build-commands": [
                "mkdir -p ${FLATPAK_DEST}/share/metainfo",
                "cp org.freedesktop.Sdk.Extension.typescript.metainfo.xml ${FLATPAK_DEST}/share/metainfo",
                "appstream-compose  --basename=org.freedesktop.Sdk.Extension.typescript --prefix=${FLATPAK_DEST} --origin=flatpak org.freedesktop.Sdk.Extension.typescript"
            ],
            "sources": [
                {
                    "type": "file",
                    "path": "org.freedesktop.Sdk.Extension.typescript.metainfo.xml"
                }
            ]
        }
    ]
}