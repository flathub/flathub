---
name: pyqt5
config-opts:
- "--assume-shared"
- "--concatenate"
- "--confirm-license"
- "--no-designer-plugin"
- "--no-dist-info"
- "--no-docstrings"
- "--no-qml-plugin"
- "--no-qsci-api"
- "--no-sip-files"
- "--no-stubs"
- "--no-tools"
- QMAKE_CFLAGS_RELEASE='-I/usr/include/python3.7m/'
- QMAKE_CXXFLAGS_RELEASE='-I/usr/include/python3.7m/'
build-options:
  arch:
    i386:
      config-opts:
      - "--enable=QtCore"
      - "--enable=QtGui"
      - "--enable=QtNetwork"
      - "--enable=QtPrintSupport"
      - "--enable=QtWebChannel"
      - "--enable=QtWebEngineCore"
      - "--enable=QtWebEngineWidgets"
      - "--enable=QtWidgets"
      - "--enable=QtSql"
      - "--enable=QtOpenGL"
      - "--enable=QtQuick"
      - "--enable=QtQml"
    x86_64:
      config-opts:
      - "--enable=QtCore"
      - "--enable=QtGui"
      - "--enable=QtNetwork"
      - "--enable=QtPrintSupport"
      - "--enable=QtWebChannel"
      - "--enable=QtWebEngineCore"
      - "--enable=QtWebEngineWidgets"
      - "--enable=QtWidgets"
      - "--enable=QtSql"
      - "--enable=QtOpenGL"
      - "--enable=QtQuick"
      - "--enable=QtQml"
sources:
- type: archive
  url: https://www.riverbankcomputing.com/static/Downloads/PyQt5/PyQt5_gpl-5.12.tar.gz
  sha256: d9e70065b5980afde5f2b9bc900910050331604e02c70666c45fcfc66b0d4f34
- type: script
  commands:
  - processed=`sed -e 's|prefix|sysroot|' <<< $@`
  - python3 configure.py $processed
  dest-filename: configure
