---
name: pyqt5
config-opts:
- "--assume-shared"
- "--concatenate"
- "--confirm-license"
- "--no-designer-plugin"
- "--no-dist-info"
- "--no-docstrings"
- "--no-qml-plugin"
- "--no-qsci-api"
- "--no-sip-files"
- "--no-stubs"
- "--no-tools"
- QMAKE_CFLAGS_RELEASE='-I/usr/include/python3.7m/'
- QMAKE_CXXFLAGS_RELEASE='-I/usr/include/python3.7m/'
build-options:
  arch:
    i386:
      config-opts:
      - "--enable=QtCore"
      - "--enable=QtGui"
      - "--enable=QtNetwork"
      - "--enable=QtPrintSupport"
      - "--enable=QtWebChannel"
      - "--enable=QtWebEngineCore"
      - "--enable=QtWebEngineWidgets"
      - "--enable=QtWidgets"
      - "--enable=QtSql"
      - "--enable=QtOpenGL"
      - "--enable=QtQuick"
      - "--enable=QtQml"
    x86_64:
      config-opts:
      - "--enable=QtCore"
      - "--enable=QtGui"
      - "--enable=QtNetwork"
      - "--enable=QtPrintSupport"
      - "--enable=QtWebChannel"
      - "--enable=QtWebEngineCore"
      - "--enable=QtWebEngineWidgets"
      - "--enable=QtWidgets"
      - "--enable=QtSql"
      - "--enable=QtOpenGL"
      - "--enable=QtQuick"
      - "--enable=QtQml"
sources:
- type: archive
  url: https://sourceforge.net/projects/pyqt/files/PyQt5/PyQt-5.11.3/PyQt5_gpl-5.11.3.tar.gz
  sha256: c9b57d15601d436faf35dacf8e0acefa220194829a653e771e80b189b3261073
- type: script
  commands:
  - processed=`sed -e 's|prefix|sysroot|' <<< $@`
  - python3 configure.py $processed
  dest-filename: configure
