{
    "id": "io.github.ogoshen.AppRyzen",
    "runtime": "org.gnome.Platform",
    "runtime-version": "48",
    "sdk": "org.gnome.Sdk",
    "command": "appryzen",
    "finish-args": [
        "--share=network",
        "--share=ipc",
        "--socket=fallback-x11",
        "--device=dri",
        "--socket=wayland",
        "--talk-name=org.freedesktop.Flatpak",
        "--filesystem=/sys:ro"
    ],
    "build-options": {
        "append-path": "/usr/lib/sdk/vala/bin",
        "prepend-ld-library-path": "/usr/lib/sdk/vala/lib"
    },
    "cleanup": [
        "/include",
        "/lib/pkgconfig",
        "/man",
        "/share/doc",
        "/share/gtk-doc",
        "/share/man",
        "/share/pkgconfig",
        "/share/vala",
        "*.la",
        "*.a"
    ],
    "modules": [


	{
		"name": "ryzenadj",
		"buildsystem": "cmake-ninja",
		"builddir": true,
		"config-opts": [
			"-DCMAKE_BUILD_TYPE=Release",
			"-DBUILD_SHARED_LIBS=OFF"
		],
		"sources": [
			{
				"type": "git",
				"url": "https://github.com/FlyGoat/RyzenAdj.git",
				"tag": "v0.17.0"
			},
			{
				"type": "patch",
				"path": "ryzenadj.patch"
			}
		]
	},

	{
	  "name": "lm-sensors",
	  "buildsystem": "simple",
	  "builddir": true,
	  "build-commands": [
	    "make -j $FLATPAK_BUILDER_N_JOBS",
	    "make install BUILD_STATIC_LIB=0 DEBUG=0 PREFIX=/ DESTDIR=$FLATPAK_DEST"
	  ],
	  "sources": [
	    {
	      "type": "git",
	      "url": "https://github.com/lm-sensors/lm-sensors.git",
	      "tag": "V3-6-0",
	      "commit": "1667b850a1ce38151dae17156276f981be6fb557"
	    }
	  ]
	},

        {
	    "name" : "live-chart",
	    "builddir" : true,
	    "buildsystem" : "meson",
	    "sources" : [
		{
		    "type" : "git",
		    "url" : "https://github.com/lcallarec/live-chart.git",
		    "commit" : "9d34b48"
		},
		{
		    "type" : "patch",
		    "path" : "live-chart.patch"
		}
	    ]
	},

        {
	    "name": "blueprint-compiler",
	    "buildsystem": "meson",
	    "cleanup": [
		"*"
	    ],
	    "sources": [
		{
		    "type": "git",
		    "url": "https://gitlab.gnome.org/jwestman/blueprint-compiler.git",
		    "tag": "v0.16.0"
		}
	    ]
	},

        {
            "name": "AppRyzen",
            "builddir": true,
            "buildsystem": "meson",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/ogoshen/AppRyzen.git",
                    "tag": "v1.0.1"
                }
            ]
        }
    ]
}
