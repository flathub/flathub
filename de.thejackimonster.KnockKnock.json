{
	"app-id": "de.thejackimonster.KnockKnock",
	"runtime": "org.gnome.Platform",
	"runtime-version": "49",
	"sdk": "org.gnome.Sdk",
	"command": "knock-knock",
	"finish-args": [
		"--socket=wayland",
		"--socket=fallback-x11",
		"--share=ipc",
		"--share=network",
		"--socket=ssh-auth"
	],
	"modules": [
		{
			"name": "iputils",
			"buildsystem": "meson",
			"post-install": [
				"install -Dm0644 LICENSE -t ${FLATPAK_DEST}/share/licenses/$FLATPAK_ID/iputils"
			],
			"sources": [
				{
					"type": "archive",
					"url": "https://github.com/iputils/iputils/releases/download/20250605/iputils-20250605.tar.gz",
					"sha512": "6fa7c2856d5b835e03381b678d87205f3030163de5306db0b5c38dec2203171c958514c561e91aadadb385448905a581e3b8831f8f44b57583b5570e9aac7540",
					"x-checker-data": {
						"type": "json",
						"url": "https://api.github.com/repos/iputils/iputils/releases/latest",
						"version-query": ".tag_name",
						"url-query": ".assets[] | select(.name==\"iputils-\" + $version + \".tar.gz\") | .browser_download_url"
					}
				}
			]
		},
		{
			"name": "knock-knock",
			"buildsystem": "simple",
			"build-commands": [
				"./scripts/install.sh /app"
			],
			"post-install": [
				"install -Dm0644 LICENSE -t ${FLATPAK_DEST}/share/licenses/$FLATPAK_ID/knock-knock"
			],
			"sources": [
				{
                    "type": "archive",
                    "url": "https://gitlab.com/TheJackiMonster/knock-knock/-/archive/v1.1.0/knock-knock-v1.1.0.tar.gz",
                    "sha512": "5b69bcee2e9e452eccc16212a062ad97c0ea5a23950e4cc1c55f376446b231aff93fb0d9253ab8850a876d68785889df50d2d421c128d034708ecda8c7ca01af",
                    "x-checker-data": {
                        "type": "html",
                        "url": "https://gitlab.com/TheJackiMonster/knock-knock/-/tags",
                        "version-pattern": ">v([\\d\\.]+)</a>",
                        "url-template": "https://gitlab.com/TheJackiMonster/knock-knock/-/archive/v$version/knock-knock-v$version.tar.gz",
                        "is-main-source": true
                    }
				}
			]
		}
	]
}
