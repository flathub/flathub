{
    "app-id": "com.github.geigi.cozy",
    "runtime": "org.gnome.Platform",
    "runtime-version": "3.26",
    "sdk": "org.gnome.Sdk",
    "command": "com.github.geigi.cozy",
    "finish-args": [
        "--share=ipc", "--socket=x11",
        "--socket=wayland",
        "--device=dri",
        "--share=network",
        "--socket=pulseaudio",
        "--filesystem=xdg-music",
        "--filesystem=xdg-run/dconf", "--filesystem=~/.config/dconf:ro",
        "--talk-name=ca.desrt.dconf", "--env=DCONF_USER_CONFIG_DIR=.config/dconf"
     ],
    "modules": [
        {
          "name": "gst-libav",
          "config-opts": [
            "--disable-gtk-doc"
          ],
          "cleanup": [ "*.la", "/share/gtk-doc" ],
          "sources": [{
            "type": "archive",
            "url": "https://gstreamer.freedesktop.org/src/gst-libav/gst-libav-1.12.3.tar.xz",
            "sha256": "015ef8cab6f7fb87c8fb42642486423eff3b6e6a6bccdcd6a189f436a3619650"
          }]
        },
        {
            "name": "python-peewee",
            "ensure-writable": ["/lib/python*/site-packages/easy-install.pth"],            
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py build",                
                "python3 setup.py install --prefix=/app"
            ],
            "sources": [
              {
                "type": "archive",
                "url": "https://pypi.python.org/packages/7a/bc/aafce76cae9362dccf70e35c16a6cc11d114ebb640bbb86d76255be5c0d6/peewee-2.10.2.tar.gz",
                "sha256": "2342067f48a779e35956a44cd547df883dda35153daa9fe994d970585aaec281"
              }
            ]
        },
        {
            "name": "python-mutagen",
            "ensure-writable": ["/lib/python*/site-packages/easy-install.pth"],            
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py build",                
                "python3 setup.py install --prefix=/app"
            ],
            "sources": [
              {
                "type": "archive",
                "url": "https://pypi.python.org/packages/61/cb/df5b1ed5276d758684b245ecde990b05ea7470d4fa9530deb86a24cf723b/mutagen-1.39.tar.gz",
                "sha256": "9da92566458ffe5618ffd26167abaa8fd81f02a7397b8734ec14dfe14e8a19e4"
              }
            ]
        },
        {
            "name": "cozy",
            "buildsystem": "meson",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/geigi/cozy/archive/0.4.2.tar.gz",
                    "sha256": "8c4bc84574e0d0c8454a4b1a630fd2281e802c8cf063f0630bb19053b0884fe8"
                }
            ]
        }
    ]
}
