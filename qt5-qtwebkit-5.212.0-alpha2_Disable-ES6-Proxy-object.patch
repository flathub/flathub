From 5648446933f52fe479d0a9006f6393a81a790116 Mon Sep 17 00:00:00 2001
From: Konstantin Tokarev <annulen@yandex.ru>
Date: Thu, 25 May 2017 00:49:22 +0300
Subject: [PATCH 031/143] Disable ES6 Proxy object

Change-Id: Ifd6404e254b242afa8dd563c03f9588b4b05ab93
---
 Source/JavaScriptCore/runtime/JSGlobalObject.cpp   |   3 +
 91 files changed, 17 insertions(+), 1379 deletions(-)
diff --git a/Source/JavaScriptCore/runtime/JSGlobalObject.cpp b/Source/JavaScriptCore/runtime/JSGlobalObject.cpp
index 9e613a21215..7d57590b4c5 100644
--- a/Source/JavaScriptCore/runtime/JSGlobalObject.cpp
+++ b/Source/JavaScriptCore/runtime/JSGlobalObject.cpp
@@ -458,7 +458,10 @@ m_ ## lowerName ## Prototype->putDirectWithoutTransition(vm, vm.propertyNames->c
     putDirectWithoutTransition(vm, vm.propertyNames->TypeError, m_typeErrorConstructor.get(), DontEnum);
     putDirectWithoutTransition(vm, vm.propertyNames->URIError, m_URIErrorConstructor.get(), DontEnum);
 
+#if !PLATFORM(QT)
+    // Disable ES6 Proxy because our implementation is not compliant with what real world code expects
     putDirectWithoutTransition(vm, vm.propertyNames->Proxy, ProxyConstructor::create(vm, ProxyConstructor::createStructure(vm, this, m_functionPrototype.get())), DontEnum);
+#endif
     
     
 #define PUT_CONSTRUCTOR_FOR_SIMPLE_TYPE(capitalName, lowerName, properName, instanceType, jsName) \
