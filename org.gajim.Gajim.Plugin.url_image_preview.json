{
    "id": "org.gajim.Gajim.Plugin.url_image_preview",
    "runtime": "org.gajim.Gajim",
    "sdk": "org.gnome.Sdk//3.28",
    "build-extension": true,
    "separate-locales": false,
    "appstream-compose": false,
    "build-options": {
        "env": {
            "PYTHONPATH": "/app/plugins/url_image_preview/lib/python3.5/site-packages/"
        }
    },
    "modules": [
        {
            "name": "python3-pillow",
            "buildsystem": "simple",
            "build-commands": [
                "install -d ${FLATPAK_DEST}/lib/python3.5/site-packages/",
                "python3 setup.py install --prefix=${FLATPAK_DEST}"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/89/b8/2f49bf71cbd0e9485bb36f72d438421b69b7356180695ae10bd4fd3066f5/Pillow-5.1.0.tar.gz",
                    "sha256": "cee9bc75bff455d317b6947081df0824a8f118de2786dc3d74a3503fd631f4ef"
                }
            ]
        },
        {
            "name": "gajim-url_image_preview",
            "buildsystem": "simple",
            "build-commands": [
                "cp -R -t ${FLATPAK_DEST} *"
            ],
            "post-install": [
                "install -Dm644 --target-directory=${FLATPAK_DEST}/share/metainfo org.gajim.Gajim.Plugin.url_image_preview.metainfo.xml",
                "appstream-compose --basename=org.gajim.Gajim.Plugin.url_image_preview --prefix=${FLATPAK_DEST} --origin=flatpak org.gajim.Gajim.Plugin.url_image_preview"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://ftp.gajim.org/plugins_releases/url_image_preview_2.2.0.zip",
                    "sha256": "1f2f0f908e7c493fa153f7cf513f598807978b7ebdc7af9fad232d95023b4fd3"
                },
                {
                    "type": "file",
                    "path": "org.gajim.Gajim.Plugin.url_image_preview.metainfo.xml",
                    "sha256": "3babf6d51115b18c8743c9a78ff7fbd66338c496376ae24a217085ae1543ef0b"
                }
            ]
        }
    ]
}
