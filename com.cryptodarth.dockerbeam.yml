app-id: com.cryptodarth.dockerbeam
runtime: org.freedesktop.Platform
runtime-version: "24.08"
sdk: org.freedesktop.Sdk
command: dockerbeam
finish-args:
  - --share=network
  - --filesystem=home

modules:
  - name: dockerbeam
    buildsystem: simple
    build-commands:
      - install -Dm755 dockerbeam ${FLATPAK_DEST}/bin/dockerbeam
      - install -Dm644 dockerbeam-icon.png "${FLATPAK_DEST}/share/icons/hicolor/256x256/apps/com.cryptodarth.dockerbeam.png"
      - install -Dm644 com.cryptodarth.dockerbeam.metainfo.xml ${FLATPAK_DEST}/share/metainfo/com.cryptodarth.dockerbeam.metainfo.xml

    sources:
      - type: file
        only-arches: [x86_64]
        url: "https://github.com/DockerBeam/DockerBeam/releases/download/v0.1.0/DockerBeam_linux_x64"
        sha256: "8d4c237de759429706f04fe8f7c09500d696923afa9740c781ede9b0627d2006"
        dest-filename: dockerbeam

      - type: file
        only-arches: [aarch64]
        url: "https://github.com/DockerBeam/DockerBeam/releases/download/v0.1.0/DockerBeam_linux_x64"
        sha256: "8d4c237de759429706f04fe8f7c09500d696923afa9740c781ede9b0627d2006"
        dest-filename: dockerbeam

      - type: file
        url: "https://raw.githubusercontent.com/DockerBeam/DockerBeam/refs/heads/main/dockerbeam-icon.png"
        sha256: "aba7c5d53b9fe316509fa53caf977be7dee89ff9388b0e799abe2e28e67c4c89"
        
      - type: file
        url: "https://raw.githubusercontent.com/DockerBeam/DockerBeam/refs/heads/main/com.cryptodarth.dockerbeam.metainfo.xml"
        sha256: "22740d8f76c8f10859fd8a5663a063e6664082698d10db3ff065f31c0d4b4e5c"