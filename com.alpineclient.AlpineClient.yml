id: com.alpineclient.AlpineClient
runtime: org.freedesktop.Platform
runtime-version: "23.08"
sdk: org.freedesktop.Sdk
command: alpine-client
finish-args:
  - "--persist=.alpineclient"
  - "--socket=x11"
  - "--socket=pulseaudio"
  - "--device=dri"
  - "--share=network"
  - "--share=ipc"
  - "--filesystem=xdg-download:ro" # Drag & drop mods
  - "--filesystem=xdg-run/app/com.spotify.Client:create" # Spotify integration
  - "--filesystem=xdg-run/app/com.discordapp.Discord:create" # Discord integration
modules:
  - name: xrandr
    sources:
      - type: archive
        url: "https://xorg.freedesktop.org/archive/individual/app/xrandr-1.5.1.tar.xz"
        sha256: "7bc76daf9d72f8aff885efad04ce06b90488a1a169d118dea8a2b661832e8762"

  - name: alpineclient
    buildsystem: simple
    build-commands:
      - "install -D -m 755 alpine-client /app/bin/alpine-client"
      - "install -D -m 644 com.alpineclient.AlpineClient.desktop /app/share/applications/com.alpineclient.AlpineClient.desktop"
      - "install -D -m 644 com.alpineclient.AlpineClient.png /app/share/icons/hicolor/256x256/apps/com.alpineclient.AlpineClient.png"
      - "install -D -m 644 com.alpineclient.AlpineClient.metainfo.xml /app/share/metainfo/com.alpineclient.AlpineClient.metainfo.xml"
    sources:
      - type: git
        url: "https://github.com/alpine-client/pinnacle.git"
        commit: "9f054a1cdf4095549810fb0c976c47ce74c46962"
