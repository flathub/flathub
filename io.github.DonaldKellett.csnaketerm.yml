app-id: io.github.DonaldKellett.csnaketerm
runtime: org.freedesktop.Platform
runtime-version: '20.08'
sdk: org.freedesktop.Sdk
command: run.sh
modules:
  - name: python
    buildsystem: simple
    build-commands:
      - ./configure --prefix=/app
      - make -j$FLATPAK_BUILDER_N_JOBS
      - make install
    sources:
      - type: archive
        url: https://www.python.org/ftp/python/2.7.18/Python-2.7.18.tar.xz
        md5: fd6cc8ec0a78c44036f825e739f36e5a
  - name: nodejs
    buildsystem: simple
    build-commands:
      - ./configure --prefix=/app
      - make -j$FLATPAK_BUILDER_N_JOBS
      - make install
    sources:
      - type: archive
        url: https://nodejs.org/dist/latest-v10.x/node-v10.23.1.tar.xz
        sha256: 88aa16f5af79615b183ca55ed81393763169e75d1fb96013cf1831895c6cedfa
  - name: csnaketerm
    buildsystem: simple
    build-commands:
      - make prefix=/app install
    sources:
      - type: archive
        url: https://github.com/DonaldKellett/csnaketerm/archive/v0.2.0.tar.gz
        sha256: 96b40e564e90c4b7395001d0149e45f2bce57d505da79424e19d7ff38441fa79
  - name: metainfo
    buildsystem: simple
    build-commands:
      - install -D io.github.DonaldKellett.csnaketerm.metainfo.xml /app/share/metainfo/io.github.DonaldKellett.csnaketerm.metainfo.xml
    sources:
      - type: file
        path: io.github.DonaldKellett.csnaketerm.metainfo.xml
  - name: run.sh
    buildsystem: simple
    build-commands:
      - install -D run.sh /app/bin/run.sh
    sources:
      - type: file
        path: run.sh
finish-args:
  - '--filesystem=xdg-config'
