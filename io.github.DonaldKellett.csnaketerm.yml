app-id: io.github.DonaldKellett.csnaketerm
runtime: org.freedesktop.Platform
runtime-version: '20.08'
sdk: org.freedesktop.Sdk
command: run.sh
modules:
  - 'python-2.7.json'
  - name: nodejs
    buildsystem: simple
    build-commands:
      - ./configure --prefix=/app
      - make -j$FLATPAK_BUILDER_N_JOBS
      - make install
    sources:
      - type: archive
        url: https://nodejs.org/dist/latest-v10.x/node-v10.23.1.tar.xz
        sha256: 88aa16f5af79615b183ca55ed81393763169e75d1fb96013cf1831895c6cedfa
  - name: csnaketerm
    buildsystem: simple
    build-commands:
      - make prefix=/app install
      - install -D 128x128.png /app/share/app-info/icons/flatpak/128x128/io.github.DonaldKellett.csnaketerm.png
      - install -D 64x64.png /app/share/app-info/icons/flatpak/64x64/io.github.DonaldKellett.csnaketerm.png
      - install -D icon.png /app/exports/share/icons/hicolor/128x128/apps/io.github.DonaldKellett.csnaketerm.png
      - install -D io.github.DonaldKellett.csnaketerm.desktop /app/exports/share/applications/io.github.DonaldKellett.csnaketerm.desktop
      - install -D io.github.DonaldKellett.csnaketerm.metainfo.xml /app/share/metainfo/io.github.DonaldKellett.csnaketerm.metainfo.xml
      - install -D run.sh /app/bin/run.sh
    sources:
      - type: archive
        url: https://github.com/DonaldKellett/csnaketerm/archive/v0.2.0.tar.gz
        sha256: 96b40e564e90c4b7395001d0149e45f2bce57d505da79424e19d7ff38441fa79
      - type: file
        path: 128x128.png
      - type: file
        path: 64x64.png
      - type: file
        path: icon.png
      - type: file
        path: io.github.DonaldKellett.csnaketerm.desktop
      - type: file
        path: io.github.DonaldKellett.csnaketerm.metainfo.xml
      - type: file
        path: run.sh
finish-args:
  - '--filesystem=xdg-config'
