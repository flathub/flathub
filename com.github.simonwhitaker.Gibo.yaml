app-id: com.github.simonwhitaker.Gibo
runtime: org.freedesktop.Platform
runtime-version: '19.08'
sdk: org.freedesktop.Sdk
command: gibo
finish-args:
  - --filesystem=~/.gitignore-boilerplates
  - --share=network
cleanup:
  - /bin/git-*
  - /lib/debug
  - /share
modules:
  - name: git
    sources:
      - type: archive
        url: https://kernel.org/pub/software/scm/git/git-2.22.1.tar.xz
        sha256: 4ce1f93ab77847e9a9d565ee7c94ceadb80ea7d477fe68123f2329f8d4937824
    make-args:
      - INSTALL_SYMLINKS=1
      - NO_PERL=YesPlease
      - NO_TCLTK=YesPlease
    make-install-args:
      - INSTALL_SYMLINKS=1
      - NO_PERL=YesPlease
      - NO_TCLTK=YesPlease
    post-install:
      - find . -type f -name perllocal.pod -delete
  - name: gibo
    sources:
      - type: archive
        url: https://github.com/simonwhitaker/gibo/archive/2.2.3.tar.gz
        sha256: 022132cc0d98c7c4a8002c34940cca0c56fd993c1391df4e43f7e3b7517cd63a
    buildsystem: simple
    build-commands:
      - mkdir -p ${FLATPAK_DEST}/bin
      - install -p -m 755 gibo ${FLATPAK_DEST}/bin
