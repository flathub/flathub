app-id: io.github.piveo
runtime: org.freedesktop.Platform
runtime-version: '23.08'
sdk: org.freedesktop.Sdk

command: piveo

finish-args:
  - --share=network
  - --filesystem=home

modules:
  - name: piveo
    buildsystem: simple
    build-commands:
      - chmod +x Piveo_1.2.0_x86_64.AppImage
      - ./Piveo_1.2.0_x86_64.AppImage --appimage-extract
      - install -Dm755 squashfs-root/AppRun /app/bin/piveo
      - install -Dm644 squashfs-root/*.desktop /app/share/applications/piveo.desktop || true
      - install -Dm644 squashfs-root/*.png /app/share/icons/hicolor/256x256/apps/piveo.png || true
    sources:
      - type: archive
        url: https://github.com/GerardLeRest/Piveo/releases/download/v1.2.0/Piveo_1.2.0_linux.zip
        sha256: 0a3bc0a560bf8137e5c202afe197d01fbc76cce7418f22286444acc0446cef89
