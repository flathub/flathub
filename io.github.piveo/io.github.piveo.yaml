app-id: io.github.piveo
runtime: org.freedesktop.Platform
runtime-version: '23.08'
sdk: org.freedesktop.Sdk

command: piveo

finish-args:

- --share=network
- --filesystem=home

modules:

- name: piveo
  buildsystem: simple
  build-commands:
  - chmod +x Piveo_1.2.0_x86_64.AppImage
  - ./Piveo_1.2.0_x86_64.AppImage --appimage-extract
    
    # Install the main binary in /app/bin
  - install -Dm755 squashfs-root/AppRun /app/bin/piveo
    
    # If there is a desktop file inside the AppImage extracted content
  - install -Dm644 squashfs-root/*.desktop /app/share/applications/piveo.desktop
    
    # If there are icons inside the AppImage
  - install -Dm644 squashfs-root/*.png /app/share/icons/hicolor/256x256/apps/piveo.png
    sources:
  - type: file
    url: https://github.com/GerardLeRest/Piveo/releases/download/v1.2.0/Piveo_1.2.0_x86_64.AppImage
    sha256: 17c404d8f909fecfd12c99c9e5f29c8f6c9b6f804a2b1bfc9f92c100adc35363
