{
	"app-id": "com.sigmyne.crush",
	"runtime": "org.freedesktop.Platform",
	"runtime-version": "18.08",
	"sdk": "org.freedesktop.Sdk",
	"sdk-extensions" : [ "org.freedesktop.Sdk.Extension.openjdk" ],
	"command": "crush",
	"finish-args": [
		"--share=network",
		"--socket=wayland",
		"--socket=fallback-x11",
		"--filesystem=host",
		"--env=PATH=/app/jre/bin:/app/bin:/usr/bin"
	],
	"modules": [
	{
		"name": "crush",
		"buildsystem": "simple",
		"build-commands": [
			"/usr/lib/sdk/openjdk/install.sh",
			"mkdir -p /app/share/crush",
			"mkdir -p Install/posix/share/metainfo",
			"mv com.sigmyne.crush.appdata.xml Install/posix/share/metainfo/",
			"cp -a Install/posix/share /app/",
			"cp -a Install/posix/man /app/share/",
			"mkdir -p /app/share/doc/crush",
			"cp -a Documentation/* /app/share/doc/crush/",
			"cp -a copyright /app/share/doc/crush/",
			"cp -a license.txt /app/share/doc/crush/",
			"rm -rf Install",
			"rm -rf Documentation",
			"cp -a * /app/share/crush/",
			"mkdir -p /app/bin",
			"ln -sfr /app/share/crush/crush /app/bin",
			"ln -sfr /app/share/crush/coadd /app/bin",
			"ln -sfr /app/share/crush/detect /app/bin",
			"ln -sfr /app/share/crush/difference /app/bin",
			"ln -sfr /app/share/crush/esorename /app/bin",
			"ln -sfr /app/share/crush/histogram /app/bin",
			"ln -sfr /app/share/crush/imagetool /app/bin",
			"ln -sfr /app/share/crush/show /app/bin"
		],
		"sources": [
		{
			"type": "archive",
			"url": "https://github.com/attipaci/crush/releases/download/2.50-1/crush-2.50-1.tar.gz",
			"sha256": "e5c95d0dd2fa99a865ae04d6fe8260070cd8507f1cdcce6ad14aef35fba7963f"
		},
		{
			"type": "file",
			"url": "https://www.sigmyne.com/crush/com.sigmyne.crush.appdata.xml",
			"sha256": "9c154ec65c3c4587fe9e9afc14c287d6581bea4a9e61dd93baed9128afa2a58a"
		}
		]
	}
	]
}
