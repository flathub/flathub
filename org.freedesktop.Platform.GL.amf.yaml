id: org.freedesktop.Platform.GL.amf
branch: '24.08'
runtime: org.freedesktop.Platform
runtime-version: '24.08'
sdk: org.freedesktop.Sdk
build-extension: true
separate-locales: false
appstream-compose: false
modules:
    - name: amf
      buildsystem: simple
      build-commands:
          - ar x amf-amdgpu-pro_*.deb
          - tar -xf data.tar.xz
          - ar x libamdenc-amdgpu-pro_*.deb
          - tar -xf data.tar.xz
          - mkdir -p /usr/lib/x86_64-linux-gnu/GL/amf/lib
          - cp -dpr opt/amdgpu-pro/lib/x86_64-linux-gnu/*.so* /usr/lib/x86_64-linux-gnu/GL/amf/lib
      sources:
        - type: file
          url: https://repo.radeon.com/amdgpu/6.4.2.1/ubuntu/pool/proprietary/a/amf-amdgpu-pro/amf-amdgpu-pro_1.4.37-2187634.22.04_amd64.deb
          sha256: c6f5b80ef1a4b2ef24aaa5688679659038618dc4fb38378b1e3d96faee7c3541
        - type: file
          url: https://repo.radeon.com/amdgpu/6.4.2.1/ubuntu/pool/proprietary/liba/libamdenc-amdgpu-pro/libamdenc-amdgpu-pro_25.10-2187634.22.04_amd64.deb
          sha256: 6dc87bc1bed2caabbd2c29effc3e95c39590069f07c382809906bb9e232c78a9
