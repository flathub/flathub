{
    "runtime": "org.kde.Platform",
    "runtime-version": "5.13",
    "sdk": "org.kde.Sdk",
    "separate-locales": false,
    "app-id": "com.github.kmkolasinski.AwesomeBump",
    "command": "awesomebump",
    "finish-args": [
        "--share=ipc",
        "--socket=x11",
        "--device=dri"
    ],
    "modules": [
        {
            "name": "AwesomeBump",
            "no-autogen": true,
            "no-make-install": false,
            "no-parallel-make": false,
            "sources": [
                {                    
                    "tag": "Linuxv5.1.1",
                    "commit": "d6912bfcb5219844841c2582f799c9a6dddaf533",
                    "type": "git",
                    "url": "https://github.com/kmkolasinski/AwesomeBump"
                },
                {
                    "commands": [
                       "qmake ./AwesomeBump.pro", "make -j $FLATPAK_BUILDER_N_JOBS", 
                       "rm .qmake.stash", "make clean", "rm Makefile Sources/Makefile", 
                       "qmake ./AwesomeBump.pro 'CONFIG+=gl330'", "make -j $FLATPAK_BUILDER_N_JOBS"
                    ],
                    "dest-filename": "configure",
                    "type": "script"
                }
            ],
            "build-commands": [
                "install -D /run/build/AwesomeBump/workdir/linux-g++-gl4/bin/AwesomeBump /app/bin/AwesomeBump",
                "install -D /run/build/AwesomeBump/workdir/linux-g++-gl3/bin/AwesomeBump /app/bin/AwesomeBumpGL330",
                "cp -r /run/build/AwesomeBump/Bin/Configs /app/bin/Configs",
                "cp -r /run/build/AwesomeBump/Bin/Core /app/bin/Core", 
                "echo '#!/bin/bash\ncd /app/bin/\n./AwesomeBump' > /app/bin/awesomebump", 
                "chmod +x /app/bin/awesomebump",
                "echo '#!/bin/bash\ncd /app/bin/\n./AwesomeBumpGL330' > /app/bin/awesomebump-gl330", 
                "chmod +x /app/bin/awesomebump-gl330"
            ]
        }
    ]
}
