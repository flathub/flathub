id: eu.binjr.binjr
runtime: org.freedesktop.Platform
runtime-version: '25.08'
sdk: org.freedesktop.Sdk
command: binjr
finish-args:
  - --socket=x11
  - --share=ipc
  - --device=dri
  - --share=network
  - --filesystem=host
  - --talk-name=org.gtk.vfs.*
modules:
  - name: binjr
    buildsystem: simple
    build-commands:
      - cp -ar opt/binjr/* /app/
      - install -Dm644 icons/binjr_16.png /app/share/icons/hicolor/16x16/apps/eu.binjr.binjr.png
      - install -Dm644 icons/binjr_32.png /app/share/icons/hicolor/32x32/apps/eu.binjr.binjr.png
      - install -Dm644 icons/binjr_48.png /app/share/icons/hicolor/48x48/apps/eu.binjr.binjr.png
      - install -Dm644 icons/binjr_64.png /app/share/icons/hicolor/64x64/apps/eu.binjr.binjr.png
      - install -Dm644 icons/binjr_128.png /app/share/icons/hicolor/128x128/apps/eu.binjr.binjr.png
      - install -Dm644 icons/binjr_256.png /app/share/icons/hicolor/256x256/apps/eu.binjr.binjr.png
      - install -Dm644 icons/binjr_512.png /app/share/icons/hicolor/512x512/apps/eu.binjr.binjr.png
      - install -Dm644 metadata/eu.binjr.binjr.metainfo.xml /app/share/metainfo/eu.binjr.binjr.metainfo.xml
      - install -Dm644 metadata/eu.binjr.binjr.desktop -t /app/share/applications
    sources:
      - type: git
        url: https://github.com/binjr/binjr-flatpak-resources.git
        tag: v3.26.2
      - type: archive
        url: https://github.com/binjr/binjr/releases/download/v3.26.2/binjr-3.26.2_linux-aarch64.rpm
        sha256: 27f85c4a786f2280e4b6013721ac97c5be927d5b4e4757a6a9955fa913d26f70
        strip-components: 0
        only-arches:
          - aarch64
      - type: archive
        url: https://github.com/binjr/binjr/releases/download/v3.26.2/binjr-3.26.2_linux-x86_64.rpm
        sha256: 994c14208e7a2287512e5ec46f3c7456b65fb8634e5f958f120f739a79bdb399
        strip-components: 0
        only-arches:
          - x86_64
