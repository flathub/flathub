app-id: io.github.TheAssassin.AppImageLauncher
runtime: org.freedesktop.Platform
runtime-version: '21.08'
sdk: org.freedesktop.Sdk
rename-icon: AppImageLauncher
rename-desktop-file: appimagelauncher.desktop
command: AppImageLauncher
separate-locales: false
finish-args:
  - --share=ipc
  - --socket=fallback-x11
  - --socket=wayland
  - --socket=pulseaudio
  - --share=network
  - --device=dri
  - --filesystem=~/Applications:create
  - --talk-name=org.freedesktop.Notifications
modules:
  - name: appimagelauncher
    buildsystem: simple
    build-commands:
      - ar p appimagelauncher.deb data.tar.xz | tar xJ
      - cp -r usr/* /app
      - rm -r appimagelauncher.deb usr
    sources:
      - type: file
        only-arches:
          - x86_64
        url: https://github.com/TheAssassin/AppImageLauncher/releases/download/v2.2.0/appimagelauncher_2.2.0-travis995.0f91801.bionic_amd64.deb
        dest-filename: appimagelauncher.deb
        sha256: f4b9db56a6ba7dd091074b14157612986a9f6a0cb3fcd230abfc8f4555c70a7f
        x-checker-data:
          type: json
          url: https://api.github.com/repos/TheAssassin/AppImageLauncher/releases/latest
          version-query: continuous
          url-query: .assets[]  | select(.name=="appimagelauncher_*.bionic_amd64.deb") | .browser_download_url
      - type: file
        only-arches:
          - aarch64
        url: https://github.com/TheAssassin/AppImageLauncher/releases/download/continuous/appimagelauncher_2.2.0-gha71.039de6f+bionic_arm64.deb
        dest-filename: appimagelauncher.deb
        sha256: e7c07907c2abd2467b940b7a6cf70edfec2ed6537911269bce114c15bbf94b1b
        x-checker-data:
          type: json
          url: https://api.github.com/repos/TheAssassin/AppImageLauncher/releases/latest
          version-query: continuous
          url-query: .assets[]  | select(.name=="appimagelauncher_*.bionic_arm64.deb") | .browser_download_url
