id: io.github.tareksander.story_reader
runtime: org.freedesktop.Platform
runtime-version: "23.08"
command: story_reader
sdk: org.freedesktop.Sdk
finish-args:
- "--share=network"
- "--socket=pulseaudio"
- "--socket=fallback-x11"
- "--socket=wayland"
- "--share=ipc"
- "--device=dri"

modules:
  - name: "story_reader"
    buildsystem: simple
    build-commands:
      - install -Dm755 story_reader /app/bin/story_reader
      - cp -r data /app/bin
      - cp -r lib /app/bin
      - install -Dm644 io.github.tareksander.story_reader.metainfo.xml -t /app/share/metainfo
      - install -Dm644 icon.png /app/share/icons/hicolor/512x512/apps/io.github.tareksander.story_reader.png
      - install -Dm644 io.github.tareksander.story_reader.desktop -t /app/share/applications
    sources:
      - type: archive
        url: https://github.com/tareksander/StoryReader/releases/download/0.9.1/linux-bundle.tar.gz
        sha256: 5830b7fb83491887f97a75ccdaa03466dc9208f5875e0e3e8c061aff57c1d18b
        dest-filename: app.tar.gz
        strip-components: 0

