id: io.github.ychclone.blink
runtime: org.kde.Platform
runtime-version: '6.6'
sdk: org.kde.Sdk
finish-args:
  - --share=ipc
  - --socket=fallback-x11
  - --socket=wayland
  - --device=dri
modules:
  - name: qscintilla
    buildsystem: qmake
    subdir: src
    sources:
      - type: archive
        url: https://www.riverbankcomputing.com/static/Downloads/QScintilla/2.13.4/QScintilla_src-2.13.4.tar.gz
        sha256: 890c261f31e116f426b0ea03a136d44fc89551ebfd126d7b0bdf8a7197879986
      - type: patch
        path: qscintilla-lib-paths.patch
  - name: blink
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
      - -DCMAKE_BUILD_TYPE=RelWithDebInfo
      - -DCMAKE_INSTALL_LIBDIR:PATH=/app/lib
    sources:
      - type: archive
        url: https://github.com/ychclone/blink/archive/refs/tags/1.9.1.tar.gz
        sha256: 97dc127aa7ad4e55ed6ad6073bc5e0794a0a871ef321a9b1c1426749d9f0b1e0
command: /app/blink/blink
