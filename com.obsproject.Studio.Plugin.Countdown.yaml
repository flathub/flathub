id: com.obsproject.Studio.Plugin.Countdown
branch: stable
runtime: com.obsproject.Studio
runtime-version: stable
sdk: org.kde.Sdk//6.6
build-extension: true
separate-locales: false
build-options:
  prefix: /app/plugins/Countdown
  strip: true

modules:
  - name: countdown-plugin
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
      - -DCMAKE_BUILD_TYPE=Release
      - -DCMAKE_PREFIX_PATH=/app/plugins/Countdown
    sources:
      - type: archive
        url: https://github.com/ashmanix/obs-plugin-countdown/releases/download/2.1.0/obs-plugin-countdown-2.1.0-source.tar.xz
        sha256: 745645d394354e6ceeeca0871edf8788c0233891713f9974bc7e04284d5ccf85
  - name: metadata
    buildsystem: simple
    build-commands:
      - install -Dm644 ${FLATPAK_ID}.metainfo.xml -t ${FLATPAK_DEST}/share/metainfo
    sources:
      - type: file
        path: com.obsproject.Studio.Plugin.Countdown.metainfo.xml
