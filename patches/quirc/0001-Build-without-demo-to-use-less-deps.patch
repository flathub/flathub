From 6dc287a12f5d75b5e5d3413ab37a3bceff18b277 Mon Sep 17 00:00:00 2001
From: d2weber <29163905+d2weber@users.noreply.github.com>
Date: Wed, 18 Jun 2025 22:21:15 +0200
Subject: [PATCH 1/3] Build without demo to use less deps

---
 libs/quirc/Makefile | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

diff --git a/libs/quirc/Makefile b/libs/quirc/Makefile
index a334b30..235e9c9 100644
--- a/libs/quirc/Makefile
+++ b/libs/quirc/Makefile
@@ -21,7 +21,7 @@ SDL_LIBS = $(shell pkg-config --libs sdl)
 LIB_VERSION = 1.2
 
 CFLAGS ?= -O3 -Wall -fPIC
-QUIRC_CFLAGS = -Ilib $(CFLAGS) $(SDL_CFLAGS)
+QUIRC_CFLAGS = -Ilib $(CFLAGS)
 LIB_OBJ = \
     lib/decode.o \
     lib/identify.o \
@@ -85,14 +85,11 @@ libquirc.so.$(LIB_VERSION): $(LIB_OBJ)
 .cxx.o:
 	$(CXX) $(QUIRC_CXXFLAGS) -o $@ -c $<
 
-install: libquirc.a libquirc.so.$(LIB_VERSION) quirc-demo quirc-scanner
+install: libquirc.a libquirc.so.$(LIB_VERSION)
 	install -o root -g root -m 0644 lib/quirc.h $(DESTDIR)$(PREFIX)/include
 	install -o root -g root -m 0644 libquirc.a $(DESTDIR)$(PREFIX)/lib
 	install -o root -g root -m 0755 libquirc.so.$(LIB_VERSION) \
 		$(DESTDIR)$(PREFIX)/lib
-	install -o root -g root -m 0755 quirc-demo $(DESTDIR)$(PREFIX)/bin
-	# install -o root -g root -m 0755 quirc-demo-opencv $(DESTDIR)$(PREFIX)/bin
-	install -o root -g root -m 0755 quirc-scanner $(DESTDIR)$(PREFIX)/bin
 
 uninstall:
 	rm -f $(DESTDIR)$(PREFIX)/include/quirc.h
-- 
2.43.0

