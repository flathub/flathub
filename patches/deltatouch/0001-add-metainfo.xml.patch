From d7de8630684521f3ffede18d5f2fc9999d4704dc Mon Sep 17 00:00:00 2001
From: d2weber <d2weber@noreply.codeberg.org>
Date: Sun, 9 Nov 2025 11:27:47 +0100
Subject: [PATCH] add metainfo.xml

---
 CMakeLists.txt                                |  2 +
 ...age.codeberg.lk108.deltatouch.metainfo.xml | 61 +++++++++++++++++++
 2 files changed, 63 insertions(+)
 create mode 100644 package/page.codeberg.lk108.deltatouch.metainfo.xml

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 11b27b5..fa2d2ea 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -26,6 +26,8 @@ set(DESKTOP_FILE_NAME ${CMAKE_PROJECT_NAME}.desktop)
 set(DESKTOP_DIR ${CMAKE_INSTALL_DATADIR}/applications)
 set(ICON_DESTINATION ${CMAKE_INSTALL_DATADIR}/icons/hicolor/scalable/apps)
 
+install(FILES package/page.codeberg.lk108.deltatouch.metainfo.xml DESTINATION "${CMAKE_INSTALL_DATADIR}/metainfo")
+
 if(EXISTS "/etc/debian_version")
     execute_process(
         COMMAND dpkg-architecture -qDEB_HOST_MULTIARCH
diff --git a/package/page.codeberg.lk108.deltatouch.metainfo.xml b/package/page.codeberg.lk108.deltatouch.metainfo.xml
new file mode 100644
index 0000000..8ec3ff2
--- /dev/null
+++ b/package/page.codeberg.lk108.deltatouch.metainfo.xml
@@ -0,0 +1,61 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<component type="desktop-application">
+  <id>page.codeberg.lk108.deltatouch</id>
+  
+  <name>DeltaTouch</name>
+  <summary>Decentralized, secure messenger app, powered by the chatmail core library</summary>
+  
+  <metadata_license>CC0-1.0</metadata_license>
+  <project_license>GPL-3.0-only</project_license>
+
+  <developer id="page.codeberg.lk108">
+    <name>Lothar Ketterer</name>
+  </developer>
+
+  <description>
+    <p>
+      Community-created messenger based on the chatmail core library, compatible with the official Delta Chat clients.
+    </p>
+  </description>
+  
+  <launchable type="desktop-id">page.codeberg.lk108.deltatouch.desktop</launchable>
+
+  <content_rating type="oars-1.1">
+    <content_attribute id="social-chat">intense</content_attribute>
+    <content_attribute id="social-info">intense</content_attribute>
+    <content_attribute id="social-audio">intense</content_attribute>
+    <content_attribute id="social-location">intense</content_attribute>
+    <content_attribute id="social-contacts">intense</content_attribute>
+  </content_rating>
+
+  <url type="bugtracker">https://codeberg.org/lk108/deltatouch/issues</url>
+  <url type="homepage">https://codeberg.org/lk108/deltatouch</url>
+
+  <screenshots>
+    <screenshot type="default">
+      <image>https://codeberg.org/lk108/deltatouch/media/branch/main/extra/images/chatlist.png</image>
+      <caption>List overview of chats on a mobile device</caption>
+    </screenshot>
+    <screenshot>
+      <image>https://codeberg.org/lk108/deltatouch/media/branch/main/extra/images/chatview.png</image>
+      <caption>One on one chat</caption>
+    </screenshot>
+  </screenshots>
+
+  <releases>
+    <release version="2.22.0" date="2025-10-24">
+      <url type="details">https://codeberg.org/lk108/deltatouch/src/branch/main/CHANGELOG</url>
+    </release>
+  </releases>
+
+  <translation type="gettext">deltatouch.lotharketterer</translation>
+
+  <recommends>
+    <control>keyboard</control>
+    <control>pointing</control>
+    <control>touch</control>
+  </recommends>
+  <requires>
+    <display_length compare="ge">360</display_length>
+  </requires>
+</component>
-- 
2.51.1

