<?xml version="1.0" encoding="UTF-8"?>
<interface>
  <requires lib="gtk" version="4.6"/>
  <requires lib="libadwaita" version="1.2"/>
  
  <template class="PreferencesWindow" parent="AdwPreferencesWindow">
    <property name="title">Preferences</property>
    <property name="default-width">600</property>
    <property name="default-height">500</property>
    <property name="modal">true</property>
    
    <!-- Terminal Page -->
    <child>
      <object class="AdwPreferencesPage">
        <property name="title">Terminal</property>
        <property name="icon-name">utilities-terminal-symbolic</property>
        
        <child>
          <object class="AdwPreferencesGroup">
            <property name="title">Appearance</property>
            
            <child>
              <object class="AdwComboRow" id="theme_combo">
                <property name="title">Color Theme</property>
                <property name="subtitle">Terminal color scheme</property>
              </object>
            </child>
            
            <child>
              <object class="AdwActionRow" id="font_row">
                <property name="title">Font</property>
                <property name="subtitle" id="font_subtitle">Monospace 12</property>
                
                <child type="suffix">
                  <object class="GtkButton" id="font_button">
                    <property name="label">Choose</property>
                    <signal name="clicked" handler="on_font_button_clicked"/>
                  </object>
                </child>
              </object>
            </child>
          </object>
        </child>
        
        <child>
          <object class="AdwPreferencesGroup">
            <property name="title">Behavior</property>
            
            <child>
              <object class="AdwSpinRow" id="scrollback_spin">
                <property name="title">Scrollback Lines</property>
                <property name="subtitle">Number of lines to keep in history</property>
                <property name="adjustment">
                  <object class="GtkAdjustment">
                    <property name="lower">100</property>
                    <property name="upper">100000</property>
                    <property name="value">10000</property>
                    <property name="step-increment">100</property>
                    <property name="page-increment">1000</property>
                  </object>
                </property>
              </object>
            </child>
            
            <child>
              <object class="AdwSwitchRow" id="cursor_blink_switch">
                <property name="title">Cursor Blinking</property>
                <property name="subtitle">Make the cursor blink</property>
                <property name="active">true</property>
              </object>
            </child>
            
            <child>
              <object class="AdwSwitchRow" id="audible_bell_switch">
                <property name="title">Audible Bell</property>
                <property name="subtitle">Play sound on terminal bell</property>
                <property name="active">false</property>
              </object>
            </child>
          </object>
        </child>
      </object>
    </child>
    
    <!-- Interface Page -->
    <child>
      <object class="AdwPreferencesPage">
        <property name="title">Interface</property>
        <property name="icon-name">applications-graphics-symbolic</property>
        
        <child>
          <object class="AdwPreferencesGroup">
            <property name="title">Window</property>
            
            <child>
              <object class="AdwSwitchRow" id="remember_size_switch">
                <property name="title">Remember Window Size</property>
                <property name="subtitle">Restore window size on startup</property>
                <property name="active">true</property>
              </object>
            </child>
            
            <child>
              <object class="AdwSwitchRow" id="auto_focus_switch">
                <property name="title">Auto Focus Terminal</property>
                <property name="subtitle">Focus terminal when connecting</property>
                <property name="active">true</property>
              </object>
            </child>
            
            <child>
              <object class="AdwSwitchRow" id="confirm_close_switch">
                <property name="title">Confirm Tab Closure</property>
                <property name="subtitle">Show confirmation when closing tabs</property>
                <property name="active">true</property>
              </object>
            </child>
          </object>
        </child>
        
        <child>
          <object class="AdwPreferencesGroup">
            <property name="title">Connection List</property>
            
            <child>
              <object class="AdwSwitchRow" id="show_hostname_switch">
                <property name="title">Show Hostname</property>
                <property name="subtitle">Display hostname in connection list</property>
                <property name="active">true</property>
              </object>
            </child>
          </object>
        </child>
      </object>
    </child>
    
    <!-- SSH Page -->
    <child>
      <object class="AdwPreferencesPage">
        <property name="title">SSH</property>
        <property name="icon-name">network-server-symbolic</property>
        
        <child>
          <object class="AdwPreferencesGroup">
            <property name="title">Connection</property>
            
            <child>
              <object class="AdwSpinRow" id="timeout_spin">
                <property name="title">Connection Timeout</property>
                <property name="subtitle">Timeout in seconds</property>
                <property name="adjustment">
                  <object class="GtkAdjustment">
                    <property name="lower">5</property>
                    <property name="upper">300</property>
                    <property name="value">30</property>
                    <property name="step-increment">5</property>
                  </object>
                </property>
              </object>
            </child>
            
            <child>
              <object class="AdwSpinRow" id="keepalive_spin">
                <property name="title">Keepalive Interval</property>
                <property name="subtitle">Keepalive interval in seconds</property>
                <property name="adjustment">
                  <object class="GtkAdjustment">
                    <property name="lower">0</property>
                    <property name="upper">600</property>
                    <property name="value">60</property>
                    <property name="step-increment">10</property>
                  </object>
                </property>
              </object>
            </child>
            
            <child>
              <object class="AdwSwitchRow" id="compression_switch">
                <property name="title">Enable Compression</property>
                <property name="subtitle">Use SSH compression</property>
                <property name="active">true</property>
              </object>
            </child>
            
            <child>
              <object class="AdwSwitchRow" id="auto_add_keys_switch">
                <property name="title">Auto Add Host Keys</property>
                <property name="subtitle">Automatically accept unknown host keys</property>
                <property name="active">true</property>
              </object>
            </child>
          </object>
        </child>
        
        <child>
          <object class="AdwPreferencesGroup">
            <property name="title">Security</property>
            
            <child>
              <object class="AdwSwitchRow" id="store_passwords_switch">
                <property name="title">Store Passwords</property>
                <property name="subtitle">Save passwords in system keyring</property>
                <property name="active">true</property>
              </object>
            </child>
            
            <child>
              <object class="AdwSwitchRow" id="agent_forwarding_switch">
                <property name="title">SSH Agent Forwarding</property>
                <property name="subtitle">Forward SSH agent to remote host</property>
                <property name="active">true</property>
              </object>
            </child>
          </object>
        </child>
      </object>
    </child>
    
    <!-- Monitoring Page -->
    <child>
      <object class="AdwPreferencesPage">
        <property name="title">Monitoring</property>
        <property name="icon-name">utilities-system-monitor-symbolic</property>
        
        <child>
          <object class="AdwPreferencesGroup">
            <property name="title">Resource Monitoring</property>
            
            <child>
              <object class="AdwSwitchRow" id="enable_monitoring_switch">
                <property name="title">Enable Monitoring</property>
                <property name="subtitle">Monitor system resources on remote hosts</property>
                <property name="active">true</property>
              </object>
            </child>
            
            <child>
              <object class="AdwSpinRow" id="update_interval_spin">
                <property name="title">Update Interval</property>
                <property name="subtitle">Update interval in seconds</property>
                <property name="adjustment">
                  <object class="GtkAdjustment">
                    <property name="lower">1</property>
                    <property name="upper">60</property>
                    <property name="value">5</property>
                    <property name="step-increment">1</property>
                  </object>
                </property>
              </object>
            </child>
            
            <child>
              <object class="AdwSpinRow" id="history_length_spin">
                <property name="title">History Length</property>
                <property name="subtitle">Number of data points to keep</property>
                <property name="adjustment">
                  <object class="GtkAdjustment">
                    <property name="lower">60</property>
                    <property name="upper">3600</property>
                    <property name="value">300</property>
                    <property name="step-increment">60</property>
                  </object>
                </property>
              </object>
            </child>
          </object>
        </child>
      </object>
    </child>
  </template>
</interface>