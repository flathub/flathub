{
	"app-id": "org.texstudio.TeXstudio",
	"runtime": "org.kde.Sdk",
	"runtime-version": "5.9",
	"sdk": "org.kde.Sdk",
	"command": "texstudio",
	"rename-icon": "texstudio",
	"rename-appdata-file": "texstudio.appdata.xml",
	"rename-desktop-file": "texstudio.desktop",
	"finish-args":[
		"--socket=x11",
		"--share=ipc",
		"--device=dri",
		"--socket=wayland",
		"--share=network",
		"--filesystem=home",
		"--env=PATH=/usr/bin:/app/bin:/app/bin/x86_64-linux"
	],
	"build-options" : {
		"cflags": "-O2",
		"cxxflags": "-O2",
		"env": {
			"LD_LIBRARY_PATH": "/app/lib:/app/lib64"
		}
	},
	"modules": [
		{
			"name": "openjpeg",
			"buildsystem": "cmake",
			"sources": [
				{
					"type": "archive",
					"url": "https://github.com/uclouvain/openjpeg/archive/v2.3.0.tar.gz",
					"sha256": "3dc787c1bb6023ba846c2a0d9b1f6e179f1cd255172bde9eb75b01f1e6c7d71a"
				}
			]
		},
		{
			"name": "poppler",
			"buildsystem": "cmake",
			"config-opts": [
				"-DCMAKE_BUILD_TYPE=release",
				"-DENABLE_QT5:BOOL=true",
				"-DCMAKE_INSTALL_LIBDIR:PATH=/app/lib"
			],
			"sources": [
				{
					"type": "archive",
					"url": "https://poppler.freedesktop.org/poppler-0.62.0.tar.xz",
					"sha256": "5b9a73dfd4d6f61d165ada1e4f0abd2d420494bf9d0b1c15d0db3f7b83a729c6"
				}
			]
		},
		{
			"name" : "konsole",
			"buildsystem" : "cmake-ninja",
			"sources" : [
				{
					"url" : "git://anongit.kde.org/konsole.git",
					"commit" : "595f9fdc1d31e8ce7fa39c6c3175bdda1a6c9821",
					"type" : "git"
				}
			]
		},
		{
			"name": "texstudio",
			"buildsystem": "qmake",
			"cleanup-platform": ["/bin", "/mkspecs"],
			"sources": [
				{
					"type":"archive",
					"url": "https://github.com/texstudio-org/texstudio/archive/2.12.8.tar.gz",
					"sha256": "3dec30ded3f36bb0591f8ed1b78b86fa23f276f5744925bc91075715c3f58062"
				}
			]
		},
		{
			"name": "wget",
			"sources": [
				{
				"type": "archive",
				"url": "https://ftp.gnu.org/gnu/wget/wget-1.19.tar.xz",
				"sha256": "0f1157bbf4daae19f3e1ddb70c6ccb2067feb834a6aa23c9d9daa7f048606384"
				}
			]
		},
		{
			"name": "texlive",
			"buildsystem": "simple",
			"sources": [
				{
					"type":"archive",
					"path": "tlnet-repo.tar.xz",
					"sha256": "94f2475abb1965ff9ac5a5285b5f9eb8256baab163a1745935829eaa987599b7"
				}
			],
			"build-commands": [
				"chmod +x install-tl",
				"echo \"I
n\" | TEXLIVE_INSTALL_PREFIX=/app ./install-tl -portable -repository .",
				"yes | rm -r /app/texmf-dist/doc"
			]
		}
	]
}
