From 0f7861669b9df34f4826f1a6085872d1a3000b5f Mon Sep 17 00:00:00 2001
From: suve <veg@svgames.pl>
Date: Fri, 23 Dec 2022 14:02:06 +0100
Subject: [PATCH] Update AppStream metadata

---
 Makefile.in                                   |  4 +-
 ...orful.desktop => pl.suve.colorful.desktop} |  0
 ...data.xml => pl.suve.colorful.metainfo.xml} | 37 ++++++++++++++++---
 3 files changed, 33 insertions(+), 8 deletions(-)
 rename pkg/{colorful.desktop => pl.suve.colorful.desktop} (100%)
 rename pkg/{colorful.appdata.xml => pl.suve.colorful.metainfo.xml} (55%)

diff --git a/Makefile.in b/Makefile.in
index f8d8895..91cfe9f 100644
--- a/Makefile.in
+++ b/Makefile.in
@@ -48,8 +48,8 @@ install: all
 	install -m 644 -p -D "pkg/colorful-64x64.png"   "$(DESTDIR)/usr/share/icons/hicolor/64x64/apps/colorful.png"
 	install -m 644 -p -D "pkg/colorful-128x128.png" "$(DESTDIR)/usr/share/icons/hicolor/128x128/apps/colorful.png"
 	# Desktop file and AppStream metadata
-	install -m 644 -p -D "pkg/colorful.desktop"     "$(DESTDIR)/usr/share/applications/colorful.desktop"
-	install -m 644 -p -D "pkg/colorful.appdata.xml" "$(DESTDIR)/usr/share/appdata/colorful.appdata.xml"
+	install -m 644 -p -D "pkg/pl.suve.colorful.desktop"      "$(DESTDIR)/usr/share/applications/pl.suve.colorful.desktop"
+	install -m 644 -p -D "pkg/pl.suve.colorful.metainfo.xml" "$(DESTDIR)/usr/share/metainfo/pl.suve.colorful.metainfo.xml"
 	# Man pages
 	install -m 644 -p -D "pkg/man/en.man"    "$(DESTDIR)/usr/share/man/man6/colorful.6"
 	install -m 644 -p -D "pkg/man/de.man"    "$(DESTDIR)/usr/share/man/de/man6/colorful.6"
diff --git a/pkg/colorful.desktop b/pkg/pl.suve.colorful.desktop
similarity index 100%
rename from pkg/colorful.desktop
rename to pkg/pl.suve.colorful.desktop
diff --git a/pkg/colorful.appdata.xml b/pkg/pl.suve.colorful.metainfo.xml
similarity index 55%
rename from pkg/colorful.appdata.xml
rename to pkg/pl.suve.colorful.metainfo.xml
index 1cbc6f6..329d16b 100644
--- a/pkg/colorful.appdata.xml
+++ b/pkg/pl.suve.colorful.metainfo.xml
@@ -1,22 +1,42 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<!-- Copyright 2017 suve <veg@svgames.pl> -->
+<!-- Copyright 2017-2022 suve <veg@svgames.pl> -->
 <component type="desktop">
-<id>colorful.desktop</id>
-	<metadata_license>CC-BY-SA-3.0</metadata_license>
-	<project_license>zlib-acknowledgement</project_license>
+<id>pl.suve.colorful</id>
 	<name>Colorful</name>
+	<project_license>GPL-3.0-only</project_license>
+	<developer_name>suve</developer_name>
+
 	<summary>Side-view shooter game</summary>
 	<summary xml:lang="pl">Strzelanka 2D</summary>
 	<description>
 		<p>
-			Colorful is a simple side-view shooter game, where the protagonist 
-			travels a maze of caves and corridors in order to collect color artifacts. 
+			Colorful is a simple side-view shooter game, where the protagonist
+			travels a maze of caves and corridors in order to collect color artifacts.
 		</p>
 		<p xml:lang="pl">
 			Colorful jest prostą strzelanką z widokiem z boku, w której bohater
 			przemierza labirynt jaskiń i korytarzy w celu zebrania kolorowych artefaktów.
 		</p>
 	</description>
+	<categories>
+		<category>Game</category>
+	</categories>
+
+	<launchable type="desktop-id">pl.suve.colorful.desktop</launchable>
+
+	<requires>
+		<internet>offline-only</internet>
+	</requires>
+	<recommends>
+		<control>keyboard</control>
+	</recommends>
+
+	<content_rating type="oars-1.1">
+		<content_attribute id="violence-cartoon">moderate</content_attribute>
+		<content_attribute id="violence-bloodshed">mild</content_attribute>
+		<content_attribute id="money-purchasing">mild</content_attribute>
+	</content_rating>
+
 	<screenshots>
 		<screenshot type="default">
 			<image>https://svgames.pl/fedora/appdata/colorful0.png</image>
@@ -28,6 +48,11 @@
 			<image>https://svgames.pl/fedora/appdata/colorful2.png</image>
 		</screenshot>
 	</screenshots>
+
 	<url type="homepage">https://svgames.pl/</url>
+	<url type="bugtracker">https://github.com/suve/LD25/issues/</url>
+	<url type="vcs-browser">https://github.com/suve/LD25/</url>
+
+	<metadata_license>CC-BY-SA-3.0</metadata_license>
 	<update_contact>veg@svgames.pl</update_contact>
 </component>
