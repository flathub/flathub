app-id: dev.geopjr.Archives
runtime: org.gnome.Platform
runtime-version: '46'
sdk: org.gnome.Sdk
command: dev.geopjr.Archives
finish-args:
  - --device=dri
  - --share=ipc
  - --share=network
  - --socket=fallback-x11
  - --socket=wayland
  - --socket=pulseaudio
cleanup:
  - /include
  - /lib/pkgconfig
  - /man
  - /share/doc
  - /share/gtk-doc
  - /share/man
  - /share/pkgconfig
  - /share/vala
  - '*.la'
  - '*.a'
modules:
  - name: archives
    buildsystem: meson
    config-opts:
      - -Doffline_update_bundle=true
    sources:
      - type: git
        url: https://gitlab.gnome.org/GeopJr/Archives.git
        tag: v0.1.0
        commit: a2346b9e9eccc6de8e4c8373395d6997541f783d
        x-checker-data:
          type: git
          tag-pattern: ^v([\d.]+)$
      - type: archive
        dest: offline/ruffle/
        url: https://github.com/ruffle-rs/ruffle/releases/download/nightly-2024-07-31/ruffle-nightly-2024_07_31-web-selfhosted.zip
        sha256: 8e462203544e2c44fc5dab31cba81e882f29b71dc2d993a2997cf7d7a088d7dc
      - type: file
        dest: offline/
        url: https://raw.githubusercontent.com/gildas-lormeau/single-filez-cli/2962d4f89accbb36aaaa1502022bb29715497566/lib/single-file.js
        sha256: 4d022d720d329fca4eca6250b242626038a09c655210a3ec4f44680cc6970930
      - type: file
        dest: offline/
        url: https://raw.githubusercontent.com/gildas-lormeau/single-filez-cli/2962d4f89accbb36aaaa1502022bb29715497566/lib/single-file-bootstrap.js
        sha256: b48fafbc039395732021a2f6f6ec6341a89fe2c0da4688f8fe0f7443e135c973
      - type: file
        dest: offline/
        url: https://raw.githubusercontent.com/gildas-lormeau/single-filez-cli/2962d4f89accbb36aaaa1502022bb29715497566/lib/single-file-hooks-frames.js
        sha256: b920e644e5ce901682979a8d6d5fe29fd03e0c09f4ef883db19c3749dea71af3
      - type: file
        dest: offline/
        url: https://raw.githubusercontent.com/gildas-lormeau/single-filez-cli/2962d4f89accbb36aaaa1502022bb29715497566/lib/single-file-zip.min.js
        sha256: d29f43d946f0cfd71f6a472938a9d392116a4bb275435001c248732687bf39e6
      - type: file
        dest: data/vendored/
        url: https://raw.githubusercontent.com/webrecorder/replayweb.page/022a35d1519c6c7903c23ce66486e0d5d2d2597d/ui.js
        sha256: 564ce644b6708260a8d6173a30c15ec90b86efb9dcb43c19b50409fdd334d7ec
      - type: file
        dest: data/vendored/
        url: https://raw.githubusercontent.com/webrecorder/replayweb.page/022a35d1519c6c7903c23ce66486e0d5d2d2597d/sw.js
        sha256: 9e7b0578ca7f2bfbea4947788cb421c240a007103e3323d2221726788ae2dc07
      - type: file
        dest: data/vendored/adblock/
        url: https://raw.githubusercontent.com/webrecorder/replayweb.page/022a35d1519c6c7903c23ce66486e0d5d2d2597d/adblock/adblock.gz
        sha256: 68eb26a36665edfe7d3fb116b80cfe43f8c73bc0ba1ac2e41d8337dd4ff18d85
