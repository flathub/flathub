{
    "app-id": "org.gnome.Music",
    "runtime": "org.gnome.Platform",
    "runtime-version": "3.28",
    "sdk": "org.gnome.Sdk",
    "command": "gnome-music",
    "finish-args": [
        "--share=ipc", "--socket=x11",
        "--socket=wayland",
        "--share=network",
        "--talk-name=org.freedesktop.Tracker1",
        "--env=TRACKER_SPARQL_BACKEND=bus",
        "--talk-name=org.gnome.OnlineAccounts",
        "--filesystem=xdg-run/dconf", "--filesystem=~/.config/dconf:ro",
        "--talk-name=ca.desrt.dconf", "--env=DCONF_USER_CONFIG_DIR=.config/dconf",
        "--talk-name=com.intel.dleyna-server",
        "--socket=pulseaudio",
        "--filesystem=xdg-music",
        "--filesystem=xdg-cache/media-art"
    ],
    "build-options": {
        "cflags": "-O2 -g",
        "cxxflags": "-O2 -g",
        "env": {
            "V": "1"
        }
    },
    "cleanup": [
        "/include",
        "/lib/pkgconfig",
        "/share/pkgconfig",
        "/share/aclocal",
        "/man",
        "/share/man",
        "/share/gtk-doc",
        "/share/vala",
        "*.la",
        "*.a"
    ],
    "modules": [{
            "name": "libmediaart",
            "sources": [{
                "type": "archive",
                "url": "https://download.gnome.org/sources/libmediaart/1.9/libmediaart-1.9.4.tar.xz",
                "sha256": "a57be017257e4815389afe4f58fdacb6a50e74fd185452b23a652ee56b04813d"
            }]
        },
        {
            "name": "tracker",
            "cleanup": [
                "/bin",
                "/etc",
                "/libexec"
            ],
            "config-opts": ["--disable-miner-apps", "--disable-static",
                "--disable-tracker-extract", "--disable-tracker-needle",
                "--disable-tracker-preferences", "--disable-artwork",
                "--disable-tracker-writeback", "--disable-miner-user-guides",
                "--with-bash-completion-dir=no"
            ],

            "sources": [{
                "type": "archive",
                "url": "https://download.gnome.org/sources/tracker/2.0/tracker-2.0.3.tar.xz",
                "sha256": "5a2fb274c128ec67a920944937b5147ceaf5db16fef6691ea22c4cb841e20580"
            }]
        },
        {
            "name": "gnome-online-accounts",
            "config-opts": ["--enable-introspection",
                "--disable-telepathy",
                "--disable-documentation",
                "--disable-backend",
                "--disable-Werror"
            ],
            "sources": [{
                "type": "archive",
                "url": "https://download.gnome.org/sources/gnome-online-accounts/3.28/gnome-online-accounts-3.28.0.tar.xz",
                "sha256": "87bc4ef307604f1ce4f09f6e5c9996ef8d37ca5e0a3bf76f6b27d71844adb40c"
            }]
        },
        {
            "name": "grilo",
            "config-opts": [
                "--disable-static"
            ],
            "sources": [{
                "type": "archive",
                "url": "https://download.gnome.org/sources/grilo/0.3/grilo-0.3.4.tar.xz",
                "sha256": "7c6964053b42574c2f14715d2392a02ea5cbace955eb73e067c77aa3e43b066e"
            }],
            "cleanup": ["/include", "/bin"]
        },
        {
            "name": "grilo-plugins",
            "config-opts": [
                "--enable-tracker",
                "--enable-dleyna",
                "--enable-goa",
                "--enable-filesystem=no",
                "--enable-optical-media=no",
                "--enable-youtube=no",
                "--enable-bookmarks=no",
                "--enable-lua-factory=no",
                "--enable-metadata-store=no",
                "--enable-vimeo=no",
                "--enable-localmetadata=no",
                "--enable-thetvdb=no",
                "--enable-tmdb=no",
                "--enable-freebox=no",
                "--enable-opensubtitles=no"
            ],
            "sources": [{
                "type": "archive",
                "url": "https://download.gnome.org/sources/grilo-plugins/0.3/grilo-plugins-0.3.5.tar.xz",
                "sha256": "2977827b8ecb3e15535236180e57dc35e85058d111349bdb6a1597e62a5068fb"
            }],
            "cleanup": ["/include"]
        },
        {
            "name": "urllib3",
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [{
                "type": "archive",
                "url": "https://github.com/shazow/urllib3/archive/1.22.tar.gz",
                "sha256": "dd60d4104b871943e06be69e296e97ede9d42edf6ba534f0268aee932a601e2a"
            }]
        },
        {
            "name": "chardet",
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [{
                "type": "archive",
                "url": "https://github.com/chardet/chardet/archive/3.0.4.tar.gz",
                "sha256": "d5620025cfca430f6c2e28ddbc87c3c66a5c82fa65570ae975c92911c2190189"
            }]
        },
        {
            "name": "certifi",
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [{
                "type": "archive",
                "url": "https://github.com/certifi/python-certifi/archive/2018.01.18.tar.gz",
                "sha256": "4912338503a14ff784f602177389e488a5814afa08db00425d175201fdbd6994"
            }]
        },
        {
            "name": "idna",
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [{
                "type": "archive",
                "url": "https://github.com/kjd/idna/archive/v2.6.tar.gz",
                "sha256": "53c722c4b7908dfdf2e5db2b79982f1084494db7b34fd31ff6a296e9fddfceaa"
            }]
        },
        {
            "name": "requests",
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py install --prefix=${FLATPAK_DEST}"
            ],
            "sources": [{
                "type": "archive",
                "url": "https://github.com/requests/requests/archive/v2.18.4.tar.gz",
                "sha256": "b068ccce3b739a29cbf72148b0ff4be3d80198fb7cdbd63066f7384bb56ef917"
            }]
        },
        {
            "name": "gnome-music",
            "buildsystem": "meson",
            "sources": [{
                "type": "archive",
                "url": "https://download.gnome.org/sources/gnome-music/3.28/gnome-music-3.28.0.1.tar.xz",
                "sha256": "c5ccbc529b556329e7ab43cb24830ff4cd717eaf8bc1c7913d26ccca7bd5de7b"

            }]
        }
    ]
}
