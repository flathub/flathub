name: ripgrep
buildsystem: simple
build-options:
  env:
    - CARGO_HOME=/run/build/ripgrep/cargo
build-commands:
  - cargo --offline fetch --manifest-path Cargo.toml
  - cargo --offline build --release
  - install -Dm00755 target/release/rg /app/bin/rg
sources:
  - type: git
    url: https://github.com/BurntSushi/ripgrep.git
    tag: 14.1.1
    commit: 4649aa9700619f94cf9c66876e9549d83420e16c
    x-checker-data:
      type: anitya
      project-id: 15461
      stable-only: true
      tag-template: $version
  - type: dir
    path: .
  - cargo-sources.json