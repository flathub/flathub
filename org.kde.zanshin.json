{
    "id": "org.kde.zanshin",
    "runtime": "org.kde.Platform",
    "runtime-version": "5.15-21.08",
    "sdk": "org.kde.Sdk",
    "command": "zanshin",
    "rename-icon": "zanshin",
    "finish-args": [
        "--device=dri",
        "--share=ipc",
        "--socket=fallback-x11",
        "--socket=wayland",
        "--share=network",
        "--filesystem=host"
    ],

    "modules": [
        {
            "name": "boost",
            "buildsystem": "simple",
            "build-commands": [
                "./bootstrap.sh --prefix=/app --with-libraries=system",
                "./b2 -j $FLATPAK_BUILDER_N_JOBS install"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://boostorg.jfrog.io/artifactory/main/release/1.78.0/source/boost_1_78_0.tar.bz2",
                    "sha256": "8681f175d4bdb26c52222665793eef08490d7758529330f98d3b29dd0735bccc"
                }
            ]
        },
        {
            "name": "krunner",
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/frameworks/5.89/krunner-5.89.0.tar.xz",
                    "sha256": "1db396b1ddd5232122ea0bfdbf96402c10221dca1ab668188f8e3f33c7b09f87"
                }
            ]
        },
        {
            "name": "kmime",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/kmime-21.12.1.tar.xz",
                    "sha256": "c1f4c06c61f6b4ddde7395b1cfb1f2411a32638e09c6f0a58c6557a7dffe4120"
                }
             ]
        },
        {
            "name": "akonadi",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DBUILD_TOOLS=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo",
                "-DDATABASE_BACKEND=SQLITE"
            ],
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/akonadi-21.12.1.tar.xz",
                    "sha256":"d43833f1e587aacb758ed42b7431eea908dc6c69cf89183afcd9059d511b08c6"
                }
            ],
            "modules": [
                {
                    "name": "sqlite3",
                    "config-opts": [
                        "--enable-threadsafe",
                        "--enable-threads-override-locks"
                    ],
                    "build-options": {
                        "cflags": "-DSQLITE_ENABLE_UNLOCK_NOTIFY=1"
                    },
                    "sources": [
                        {
                            "type": "archive",
                            "url": "https://sqlite.org/2016/sqlite-autoconf-3150200.tar.gz",
                            "sha256": "07b35063b9386865b78226cdaca9a299d938a87aaa8fdc4d73edb0cef30f3149"
                        }
                    ],
                    "cleanup": [
                        "/bin/sqlite3",
                        "*.a"
                    ]
                }
            ]
        },
        {
            "name": "akonadi-mime",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/akonadi-mime-21.12.1.tar.xz",
                    "sha256": "a6016f9c58fa899773c3f79f61aaae179a508e37405771a836bafcde72c22fca"
                }
            ]
        },
        {
            "name": "ksmtp",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/ksmtp-21.12.1.tar.xz",
                    "sha256": "981273efff8f47aaca1672aabdc0f40d5cbfd5d730d35dd25758d58bdd320c89"
                }
            ]
        },
        {
            "name": "libkgapi",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/libkgapi-21.12.1.tar.xz",
                    "sha256": "339479a3becbaeb0216c793c1fc4d5c4349e049d066c5f4697a305e1dd199967"
                }
            ]
        },
        {
            "name": "gpgme",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://gnupg.org/ftp/gcrypt/gpgme/gpgme-1.15.1.tar.bz2",
                    "sha256": "eebc3c1b27f1c8979896ff361ba9bb4778b508b2496c2fc10e3775a40b1de1ad"
                }
            ],
            "cleanup": [
                "*.la"
            ]
        },
        {
            "name": "qtkeychain",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DCMAKE_INSTALL_LIBDIR=/app/lib",
                "-DLIB_INSTALL_DIR=/app/lib",
                "-DBUILD_TRANSLATIONS=NO"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/frankosterfeld/qtkeychain/archive/v0.12.0.tar.gz",
                    "sha256": "cc547d58c1402f6724d3ff89e4ca83389d9e2bdcfd9ae3d695fcdffa50a625a8"
                }
            ]
        },
        {
            "name": "libkleo",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/libkleo-21.12.1.tar.xz",
                    "sha256": "97f031ee3d8ae4b0ade5a1699db7a0224cd529b3c031a1902440d4c10fe3b638"
                }
            ]
        },
        {
            "name": "kmailtransport",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/kmailtransport-21.12.1.tar.xz",
                    "sha256": "a2ada2ecf6532cd347b8cc630d6ba1429b02402cc6f95a3a4b72d1dd012ecf56"
                }
            ]
        },
        {
            "name": "grantlee",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/steveire/grantlee/archive/refs/tags/v5.2.0.tar.gz",
                    "sha256" : "139acee5746b957bdf1327ec0d97c604d4c0b9be42aec5d584297cb5ed6a990a"
                }
            ]
        },
        {
            "name": "grantleetheme",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/grantleetheme-21.12.1.tar.xz",
                    "sha256": "e222b5ebcc8c8422a2cb6535e4ef4dd8c902dd55852e4dd6400920b561114246"
                }
            ]
        },
        {
            "name": "akonadi-contacts",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/akonadi-contacts-21.12.1.tar.xz",
                    "sha256": "43598a2075613297ca08cdd4a3227749779fbca7a15244c029efcd76705903fa"
                }
            ]
        },
        {
            "name": "kpimtextedit",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/kpimtextedit-21.12.1.tar.xz",
                    "sha256": "d92ace9e4f38b40c6278e813c92e02c90d9a615e541a3efbd92b358a34235ad2"
                }
            ]
        },
        {
            "name": "kidentitymanagement",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/kidentitymanagement-21.12.1.tar.xz",
                    "sha256": "9c37162dd4dfbca096d0b656e0ea9b49ae43c30cf92f1cd82ba8b5300d536ae4"
                }
            ]
        },
        {
            "name": "kcalutils",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/kcalutils-21.12.1.tar.xz",
                    "sha256": "35c3d088ce989bf885bedf741e70bc00a4d1537d6f835d77df284e2bf29b7cc6"
                }
            ]
        },
        {
            "name": "akonadi-calendar",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/akonadi-calendar-21.12.1.tar.xz",
                    "sha256": "e743797c2909c93cc513946e0ba719db07888d26e6f35a134d04da4254abe10c"
                }
            ]
        },
        {
            "name": "kontactinterface",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.0/src/kontactinterface-21.12.0.tar.xz",
                    "sha256": "7b4849eab07b26ef9406fe7afcfe011116502dbc1eaffa1ea8a819575d4c9f07"
                }
            ]
        },
        {
            "name": "zanshin",
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/21.12.1/src/zanshin-21.12.1.tar.xz",
                    "sha256": "8586c9c269c3f62fd22f9113dadf5880fc491c952901b319e1aeb65a58e1a47c"
                }
            ]
        }
    ]
}
