{
  "app-id": "io.github.mihnea_radulescu.passwordsecure",
  "runtime": "org.freedesktop.Platform",
  "runtime-version": "23.08",
  "sdk": "org.freedesktop.Sdk",
  "command": "PasswordSecure",
  "finish-args": [
	"--socket=x11",
	"--share=ipc",
	"--device=dri",
	"--filesystem=~/PasswordSecure:create"
  ],
  "modules": [
	{
      "name": "PasswordSecure",
      "buildsystem": "simple",
      "sources": [
		{
			"type": "file",
			"only-arches": ["aarch64"],
			"url": "https://github.com/mihnea-radulescu/passwordsecure/releases/download/1.2024.09.09/PasswordSecure_Linux_arm64_Flathub.zip",
			"sha256": "33db7d7f073140010014ddd5e9c96b73a3a1433ece5320fe83c3f6ff097dd92b"
		},
		{
			"type": "file",
			"only-arches": ["x86_64"],
			"url": "https://github.com/mihnea-radulescu/passwordsecure/releases/download/1.2024.09.09/PasswordSecure_Linux_x64_Flathub.zip",
			"sha256": "1d48c66bc1a394a9032c1562074401ae79c175143c893b8e186dae706fd8e034"
		}
	],
	"build-commands": ["unzip PasswordSecure_Linux_*.zip"],
	"post-install": [
        "install -Dm755 PasswordSecure /app/bin/PasswordSecure",
		"install -Dm644 libHarfBuzzSharp.so /app/bin/libHarfBuzzSharp.so",
        "install -Dm644 libSkiaSharp.so /app/bin/libSkiaSharp.so",
		"install -Dm644 icon64.png /app/share/icons/hicolor/64x64/apps/io.github.mihnea_radulescu.passwordsecure.png",
		"install -Dm644 icon128.png /app/share/icons/hicolor/128x128/apps/io.github.mihnea_radulescu.passwordsecure.png",
		"install -Dm644 app.desktop /app/share/applications/io.github.mihnea_radulescu.passwordsecure.desktop",
		"install -Dm644 metainfo.xml /app/share/metainfo/io.github.mihnea_radulescu.passwordsecure.metainfo.xml"
	],
    "cleanup": ["PasswordSecure_Linux_*.zip"]
	}
  ]
}
