{
    "app-id": "org.apache.netbeans",
    "runtime": "org.freedesktop.Sdk",
    "runtime-version": "18.08",
    "sdk": "org.freedesktop.Sdk",
    "sdk-extensions": [
        "org.freedesktop.Sdk.Extension.openjdk9"
    ],
    "command": "netbeans-desktop",
    "separate-locales": false,
    "finish-args": [
        "--share=ipc",
        "--socket=x11",
        "--share=network",
        "--device=dri",
        "--filesystem=host",
        "--socket=session-bus",
        "--talk-name=org.freedesktop.Notifications",
        "--talk-name=org.freedesktop.secrets",
        "--filesystem=xdg-run/keyring",
        "--device=all",
        "--env=PATH=/usr/bin:/app/bin:/usr/lib/sdk/openjdk9/bin:/tmp/icns/bin"
    ],
    "modules": [
        {
            "name": "icns",
            "sources": [
                {
                    "type": "git",
                    "url": "https://git.code.sf.net/p/icns/code",
                    "commit": "194962"
                }
            ]
        },
        {
            "name": "netbeans",
            "buildsystem": "simple",
            "build-commands": [
                "unzip incubating-netbeans-java-9.0-bin.zip",
                "install -dm755 /app/bin",
                "install -dm755 /app/netbeans",
                "cp -r netbeans/* /app/netbeans/",
                "chmod -R a-s,go+rX,go-w /app/netbeans",
                "icns2png -x -o . -d 32 -s 512x512 netbeans/nb/netbeans.icns",
                "icns2png -x -o . -d 32 -s 256x256 netbeans/nb/netbeans.icns",
                "icns2png -x -o . -d 32 -s 32x32 netbeans/nb/netbeans.icns",
                "icns2png -x -o . -d 32 -s 16x16 netbeans/nb/netbeans.icns",
                "install -Dm644 netbeans/nb/netbeans.png /app/share/icons/hicolor/32x32/apps/org.apache.netbeans.png",
                "install -Dm644 netbeans_512x512x32.png /app/share/icons/hicolor/512x512/apps/org.apache.netbeans.png",
                "install -Dm644 netbeans_256x256x32.png /app/share/icons/hicolor/256x256/apps/org.apache.netbeans.png",
                "install -Dm644 netbeans_16x16x32.png /app/share/icons/hicolor/16x16/apps/org.apache.netbeans.png",
                "install -Dm644 netbeans_32x32x32.png /app/share/icons/hicolor/32x32/apps/org.apache.netbeans.png",
                "install -Dm644 org.apache.netbeans.desktop /app/share/applications/org.apache.netbeans.desktop",
                "install -Dm644 org.apache.netbeans.appdata.xml /app/share/appdata/org.apache.netbeans.appdata.xml",
                "install -m755 netbeans-desktop /app/bin/netbeans-desktop"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "http://mirrors.whoishostingthis.com/apache/incubator/netbeans/incubating-netbeans-java/incubating-9.0/incubating-netbeans-java-9.0-bin.zip",
                    "sha1": "e03f8bec1d56bd50287e4827282cdbbaae37812e"
                },
                {
                    "type": "file",
                    "path": "org.apache.netbeans.appdata.xml"
                },
                {
                    "type": "file",
                    "path": "org.apache.netbeans.desktop"
                },
                {
                    "type": "script",
                    "dest-filename": "netbeans-desktop",
                    "commands": [
                        "exec /app/netbeans/bin/netbeans \"$@\""
                    ]
                }
            ],
            "build-options" : {
                "no-debuginfo": true
            }
        }
    ]
}
