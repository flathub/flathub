id: org.flatpak.am-okay
runtime: org.freedesktop.Platform
runtime-version: '23.08'
sdk: org.freedesktop.Sdk 

command: am-okay

finish-args:
    - --share=network
    - --socket=x11
    - --filesystem=host
    - --filesystem=/tmp
    - --device=all
    - --filesystem=/media

modules:
    - name: am-okay-package
      buildsystem: simple      
      sources:
          - type: git 
            url: https://github.com/baldeuniversel/am-okay.git 
            commit: e38467880012000a0d47aa363710f0fcd1e1538b 

      build-commands: 
            - install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/bin/am-okay /app/bin/am-okay

            - install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/share/metainfo/org.flatpak.am-okay.metainfo.xml \
              /app/usr/share/metainfo
            
            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/share/icons/hicolor/128x128/apps/org.flatpak.am-okay.png \
              /app/usr/share/icons/hicolor/128x128/apps

            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/local/share/screenshot/screenshot_scenario_1_am-okay.png \
              /app/usr/local/share/screenshot

            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/local/share/screenshot/screenshot_scenario_2_am-okay.png \
              /app/usr/local/share/screenshot

            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/lib/am-okay/library/am-okay-reset-actions.sh \
              /app/usr/lib/am-okay/library/am-okay-reset-actions.sh

            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/lib/am-okay/library/progress-bar-array-copy.sh \
              /app/usr/lib/am-okay/library/progress-bar-array-copy.sh

            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/lib/am-okay/library/progress-bar-array-cut.sh \
              /app/usr/lib/am-okay/library/progress-bar-array-cut.sh

            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/lib/am-okay/library/progress-bar-copy.sh \
              /app/usr/lib/am-okay/library/progress-bar-copy.sh

            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/lib/am-okay/library/progress-bar-cut.sh \
              /app/usr/lib/am-okay/library/progress-bar-cut.sh

            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/share/man/man1/am-okay.1.gz \
              /app/usr/share/man/man1/am-okay.1.gz

            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/lib/am-okay/documentation/am-okay-doc \
              /app/usr/lib/am-okay/documentation/am-okay-doc

            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/lib/am-okay/documentation/am-okay-help \
              /app/usr/lib/am-okay/documentation/am-okay-help

            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/lib/am-okay/documentation/am-okay-version \
              /app/usr/lib/am-okay/documentation/am-okay-version

            - |
              install -D $FLATPAK_BUILDER_BUILDDIR/am-okay/usr/lib/am-okay/documentation/am-okay-version-pure \
              /app/usr/lib/am-okay/documentation/am-okay-version-pure

