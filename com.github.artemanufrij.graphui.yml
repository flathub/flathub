app-id: com.github.artemanufrij.graphui
runtime: org.freedesktop.Platform
sdk: org.freedesktop.Sdk
runtime-version: '18.08'
base: io.elementary.BaseApp
base-version: juno
command: com.github.artemanufrij.graphui
finish-args:
  - --share=ipc
  - --socket=x11
  - --socket=wayland
  - --filesystem=home
  - --filesystem=xdg-run/dconf
  - --filesystem=~/.config/dconf:ro
  - --talk-name=ca.desrt.dconf
  - --env=DCONF_USER_CONFIG_DIR=.config/dconf
cleanup:
    - /share/vala
    - /share/valadoc
modules:
  - name: gtksourceview
    cleanup:
      - /share/gtk-doc
      - /lib/pkgconfig
      - /include
      - /lib/debug
    config-opts:
      - --enable-gtk-doc=no
    sources:
      - type: archive
        url: https://download.gnome.org/sources/gtksourceview/3.24/gtksourceview-3.24.6.tar.xz
        sha256: 7aa6bdfebcdc73a763dddeaa42f190c40835e6f8495bb9eb8f78587e2577c188

  - name: graphui
    buildsystem: meson
    config-opts:
      - --buildtype=release
    sources:
      - type: archive
        url: https://github.com/artemanufrij/graphui/archive/1.0.2.tar.gz
        sha256: 99e05e369fdd4ff7bf3b822773793bb49ac64ef3c8bc8c389fb1db93cb9a558e
      - type: patch
        path: elementary-theme.patch
