{
	"app-id": "org.newerth.savagexr",
	"runtime": "org.freedesktop.Platform", 
	"sdk": "org.freedesktop.Sdk", 
	"runtime-version": "1.6", 
	"tags": ["proprietary"],
	"command": "bootstrapsavagexr.sh",
	"finish-args": [
		"--socket=x11",
		"--socket=wayland",
		"--share=network",
		"--share=ipc",
		"--device=dri",
		"--socket=pulseaudio"
	],
	"modules": [
		{
			"name": "wget",
			"sources": [
				{
					"type": "archive",
					"url": "http://ftpmirror.gnu.org/wget/wget-1.19.tar.gz",
					"sha256": "dd9523039845f69e8e945e9f2d5a38af6b1e29efa6ff53830507310235ddade8"
				}
			]
		},
		{
			"name": "harfbuzz",
			"config-opts": [
				"--disable-static",
				"--with-gobject",
				"--with-graphite2"
			],
			"sources": [
				 {
					 "type": "archive",
					 "url": "http://www.freedesktop.org/software/harfbuzz/release/harfbuzz-1.7.6.tar.bz2",
					 "sha256": "da7bed39134826cd51e57c29f1dfbe342ccedb4f4773b1c951ff05ff383e2e9b"
				 }
			]
		},
		"shared-modules/glu/glu-9.0.0.json",
		"shared-modules/SDL/SDL-1.2.15.json",
		{
			"name": "savagexr-bootstrap-and-installer-desktop-icon-appdata",
			"buildsystem": "simple",
			"build-commands": [
				"install --mode=755 apply_extra /app/bin",
				"install --mode=755 bootstrapsavagexr.sh /app/bin",
				"install -D --mode=644 org.newerth.savagexr.appdata.xml /app/share/appdata/org.newerth.savagexr.appdata.xml",
				"install -D --mode=644 org.newerth.savagexr.desktop /app/share/applications/org.newerth.savagexr.desktop",
				"install -D --mode=644 org.newerth.savagexr.icon256.png /app/share/icons/hicolor/256x256/apps/org.newerth.savagexr.png"
			],
			"no-make-install": true,
			"sources": [
				{
					"type": "file",
					"path": "bootstrapsavagexr.sh"
				},
				{
					"type": "file",
					"path": "org.newerth.savagexr.appdata.xml"
				},
				{
					"type": "file",
					"path": "org.newerth.savagexr.desktop"
				},
				{
					"type": "file",
					"path": "org.newerth.savagexr.icon256.png"
				},
				{
					"type": "script",
					"dest-filename": "apply_extra",
					"commands": [
						"chmod +x xr_setup-1.0-cl_lin_prod.bin"
					]
				},
				{
					"type": "extra-data",
					"filename": "xr_setup-1.0-cl_lin_prod.bin",
					"url": "http://www.newerth.com/?id=downloads&op=downloadFile&file=xr_setup-1.0-cl_lin_prod.bin&mirrorid=2",
					"sha256": "f9ee596b0a02af69bdca1c51b1a2984edd012f34fb217a20378156ad3f55e380",
					"size": 428093466
				}
			]
		}
	]
}
