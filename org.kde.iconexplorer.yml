app-id: org.kde.iconexplorer
runtime: org.kde.Platform
runtime-version: 6.8
sdk: org.kde.Sdk
command: iconexplorer
copy-icon: true
finish-args:
  - --device=dri
  - --share=ipc
  - --socket=wayland
  - --socket=fallback-x11
  - --talk-name=org.freedesktop.FileManager1
cleanup:
  - /include
  - /lib/cmake
  - /lib/libexec
  - /mkspecs
  - /etc/xdg/*categories
  - /share/qlogging-categories5
modules:
  - name: libplasma
    buildsystem: cmake-ninja
    sources:
      - type: archive
        url: https://download.kde.org/stable/plasma/6.2.4/libplasma-6.2.4.tar.xz
        sha256: 66eda145fb57dcc585db97fd7e543f2cdfc745ceb83c16cbe3d080939f5b1b14
        x-checker-data:
          type: anitya
          project-id: 8761
          stable-only: true
          url-template: https://download.kde.org/stable/plasma/$version/libplasma-$version.tar.xz
  - name: libnl
    buildsystem: autotools
    sources:
      - type: archive
        url: https://github.com/thom311/libnl/releases/download/libnl3_11_0/libnl-3.11.0.tar.gz
        sha256: 2a56e1edefa3e68a7c00879496736fdbf62fc94ed3232c0baba127ecfa76874d
        x-checker-data:
          type: anitya
          project-id: 1684
          stable-only: true
          url-template: https://github.com/thom311/libnl/releases/download/libnl${}_${version1}_${version2}/libnl-$version.tar.gz
  - name: lm-sensors
    buildsystem: simple
    build-commands:
      - make
      - make install PREFIX=/app
    sources:
      - type: archive
        url: https://github.com/lm-sensors/lm-sensors/archive/refs/tags/V3-6-0.tar.gz
        sha256: 0591f9fa0339f0d15e75326d0365871c2d4e2ed8aa1ff759b3a55d3734b7d197
        x-checker-data:
          type: anitya
          project-id: 1831
          stable-only: true
          url-template: https://github.com/lm-sensors/lm-sensors/archive/refs/tags/V$version0-$version1-$version2.tar.gz
  - name: libksysguard
    buildsystem: cmake-ninja
    config-opts:
      - -DENABLE_KAUTH_HELPER=OFF
    sources:
      - type: archive
        url: https://download.kde.org/stable/plasma/6.2.4/libksysguard-6.2.4.tar.xz
        sha256: f799f90efd3b3e0ea17b1969bb0cc5744c7762ea16d128b1b4d31dfa78cc58ae
        x-checker-data:
          type: anitya
          project-id: 8761
          stable-only: true
          url-template: https://download.kde.org/stable/plasma/$version/libksysguard-$version.tar.xz
  - name: plasma5support
    buildsystem: cmake-ninja
    sources:
      - type: archive
        url: https://download.kde.org/stable/plasma/6.2.4/plasma5support-6.2.4.tar.xz
        sha256: 233bbdc3f1c0b8acbb710f53c6308359c315b699958f6784b3467f4724f93d8d
        x-checker-data:
          type: anitya
          project-id: 8761
          stable-only: true
          url-template: https://download.kde.org/stable/plasma/$version/plasma5support-$version.tar.xz
  - name: iconexplorer
    buildsystem: cmake-ninja
    builddir: true
    sources:
      - type: archive
        url: https://download.kde.org/stable/plasma/6.2.4/plasma-sdk-6.2.4.tar.xz
        sha256: 576f6aa751d9d2cf66cdf09562ce86ed02cbbf73e5ae5ccbd06e01f8163b8878
        x-checker-data:
          type: anitya
          project-id: 8761
          stable-only: true
          url-template: https://download.kde.org/stable/plasma/$version/plasma-sdk-$version.tar.xz
      - type: patch
        path: appdata.patch
