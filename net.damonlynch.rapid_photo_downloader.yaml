app-id: net.damonlynch.rapid_photo_downloader
runtime: org.kde.Platform
runtime-version: 5.15-23.08
sdk: org.kde.Sdk
base: com.riverbankcomputing.PyQt.BaseApp
base-version: 5.15-23.08
cleanup:
- /doc
- /man
- /share/doc
- /share/gtk-doc
- /share/man
- /share/vala
- "*.a"
- "*.la"
- "/lib/pkgconfig"
- "/include"
- "/lib/cmake"
cleanup-commands:
- /app/cleanup-BaseApp.sh
command: rapid-photo-downloader
finish-args:
- --share=ipc
- --socket=wayland
- --socket=fallback-x11
- --socket=pulseaudio

#  For USB, until there is a better way in flatpak
- --device=all

# XDG commons folders
- --filesystem=xdg-download
- --filesystem=xdg-pictures
- --filesystem=xdg-videos

# external disk mount
- --filesystem=/media
- --filesystem=/run/media
- --filesystem=/mnt

# notifications
- --talk-name=org.kde.StatusNotifierWatcher

# QT and perl libs
- --env=QT_PLUGIN_PATH=/app/lib/plugins
- --env=QTWEBENGINEPROCESS_PATH=/app/bin/QtWebEngineProcess
- --env=PERL5LIB=/app/lib/perl5/site_perl/5.36.0/

# access to udisk
- --system-talk-name=org.freedesktop.UDisks2

# Needed for gvfs to work and mtp
- --talk-name=org.gtk.vfs.*
- --filesystem=xdg-run/gvfs
- --filesystem=xdg-run/gvfsd

modules:
- shared-modules/intltool/intltool-0.51.json

# enable inspection for gudev
- gudev.json

# for inspection of gobject
- name: python-pygobject
  build-commands: []
  buildsystem: simple
  modules:
  - name: pyproject-metadata
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "pyproject-metadata" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/cf/cc/428b057f8c229b7c374efe9d6a6a35e693f79e071e25846ab0c55e59d337/pyproject_metadata-0.8.0.tar.gz
      sha256: 376d5a00764ac29440a54579f88e66b7d9cb7e629d35c35a1c7248bfebc9b455
      x-checker-data:
        type: pypi
        name: pyproject-metadata
        packagetype: sdist

  - name: meson-python
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "meson-python" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/1a/3f/b19e9354c358f5acf322dd1f81ed9f0c633ba4bcccfd32e9c3740c43c9e5/meson_python-0.16.0.tar.gz
      sha256: 9068c17e36c89d6c7ff709fffb2a8a9925e8cd0b02629728e5ceaf2ec505cb5f
      x-checker-data:
        type: pypi
        name: meson-python
        packagetype: sdist

  - name: python3-pycairo
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "pycairo" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/07/4a/42b26390181a7517718600fa7d98b951da20be982a50cd4afb3d46c2e603/pycairo-1.27.0.tar.gz
      sha256: 5cb21e7a00a2afcafea7f14390235be33497a2cce53a98a19389492a60628430
      x-checker-data:
        type: pypi
        name: pycairo
        packagetype: sdist

  - name: python3-pygobject
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "pygobject" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/2b/58/d34e67a79631177e3c08e7d02b5165147f590171f2cae6769502af5f7f7e/pygobject-3.50.0.tar.gz
      sha256: 4500ad3dbf331773d8dedf7212544c999a76fc96b63a91b3dcac1e5925a1d103
      x-checker-data:
        name: pygobject
        type: pypi
        packagetype: sdist


# for building
- name: python-hatchling
  build-commands: []
  buildsystem: simple
  modules:
  - name: python-pluggy
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "pluggy>=1.5.0" --no-build-isolation
    cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/88/5f/e351af9a41f866ac3f1fac4ca0613908d9a41741cfcf2228f4ad853b697d/pluggy-1.5.0-py3-none-any.whl
      sha256: 44e1ad92c8ca002de6377e165f3e0f1be63266ab4d554740532335b9d75ea669
      x-checker-data:
        type: pypi
        name: pluggy
        packagetype: bdist_wheel

  - name: python3-scikit_build_core
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "scikit_build_core" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/08/aa/cc0199a5f0ad350994d660967a8efb233fe0416e4639146c089643407ce6/packaging-24.1-py3-none-any.whl
      sha256: 5b8f2217dbdbd2f7f384c41c628544e6d52f2d0f53c6d0c3ea61aa5d1d7ff124
      x-checker-data:
        type: pypi
        name: packaging
        packagetype: bdist_wheel

    - type: file
      url: https://files.pythonhosted.org/packages/cc/20/ff623b09d963f88bfde16306a54e12ee5ea43e9b597108672ff3a408aad6/pathspec-0.12.1-py3-none-any.whl
      sha256: a0d503e138a4c123b27490a4f7beda6a01c6f288df0e4a8b79c7eb0dc7b4cc08
      x-checker-data:
        type: pypi
        name: pathspec
        packagetype: bdist_wheel

    - type: file
      url: https://files.pythonhosted.org/packages/88/fe/90476c4f6a1b2f922efa00d26e876dd40c7279e28ec18f08f0851ad21ba6/scikit_build_core-0.10.7-py3-none-any.whl
      sha256: 5e13ab7ca7c3c6dd019607c3a6f53cba67dade8757c4c4f75b459e2f90e4dbc3
      x-checker-data:
        type: pypi
        name: scikit_build_core
        packagetype: bdist_wheel

  - name: python-trove-classifiers
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "trove-classifiers>=2024.7.2" --no-build-isolation
    cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/b6/7a/e0edec9c8905e851d52076bbc41890603e2ba97cf64966bc1498f2244fd2/trove_classifiers-2024.9.12-py3-none-any.whl
      sha256: f88a27a892891c87c5f8bbdf110710ae9e0a4725ea8e0fb45f1bcadf088a491f
      x-checker-data:
        type: pypi
        name: trove-classifiers
        packagetype: bdist_wheel

  - name: python-hatchling
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "hatchling>=1.25.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/0c/8b/90e80904fdc24ce33f6fc6f35ebd2232fe731a8528a22008458cf197bc4d/hatchling-1.25.0-py3-none-any.whl
      sha256: b47948e45d4d973034584dd4cb39c14b6a70227cf287ab7ec0ad7983408a882c
      x-checker-data:
        type: pypi
        name: hatchling
        packagetype: bdist_wheel

  - name: python-click
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "click>=8.1.7" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/00/2e/d53fa4befbf2cfa713304affc7ca780ce4fc1fd8710527771b58311a3229/click-8.1.7-py3-none-any.whl
      sha256: ae74fb96c20a0277a1d615f1e4d73c8414f5a98db8b799a7931d1582f3390c28
      x-checker-data:
        type: pypi
        name: click
        packagetype: bdist_wheel

  - name: python-idna
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "idna>=3.10" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/76/c6/c88e154df9c4e1a2a66ccf0005a88dfb2650c1dffb6f5ce603dfbd452ce3/idna-3.10-py3-none-any.whl
      sha256: 946d195a0d259cbba61165e88e65941f16e9b36ea6ddb97f00452bae8b1287d3
      x-checker-data:
        type: pypi
        name: idna
        packagetype: bdist_wheel

  - name: python-sniffio
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "sniffio>=1.3.1" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/e9/44/75a9c9421471a6c4805dbf2356f7c181a29c1879239abab1ea2cc8f38b40/sniffio-1.3.1-py3-none-any.whl
      sha256: 2f6da418d1f1e0fddd844478f41680e794e6051915791a034ff65e5f100525a2
      x-checker-data:
        type: pypi
        name: sniffio
        packagetype: bdist_wheel

  - name: python-anyio
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "anyio>=4.6.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/9e/ef/7a4f225581a0d7886ea28359179cb861d7fbcdefad29663fc1167b86f69f/anyio-4.6.0-py3-none-any.whl
      sha256: c7d2e9d63e31599eeb636c8c5c03a7e108d73b345f064f1c19fdc87b79036a9a
      x-checker-data:
        type: pypi
        name: anyio
        packagetype: bdist_wheel

  - name: python-certifi
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "certifi" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/12/90/3c9ff0512038035f59d279fddeb79f5f1eccd8859f06d6163c58798b9487/certifi-2024.8.30-py3-none-any.whl
      sha256: 922820b53db7a7257ffbda3f597266d435245903d80737e34f8a45ff3e3230d8
      x-checker-data:
        type: pypi
        name: certifi
        packagetype: bdist_wheel

  - name: python-h11
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "h11" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/95/04/ff642e65ad6b90db43e668d70ffb6736436c7ce41fcc549f4e9472234127/h11-0.14.0-py3-none-any.whl
      sha256: e3fe4ac4b851c468cc8363d500db52c2ead036020723024a109d37346efaa761
      x-checker-data:
        type: pypi
        name: h11
        packagetype: bdist_wheel

  - name: python-httpcore
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "httpcore" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/78/d4/e5d7e4f2174f8a4d63c8897d79eb8fe2503f7ecc03282fee1fa2719c2704/httpcore-1.0.5-py3-none-any.whl
      sha256: 421f18bac248b25d310f3cacd198d55b8e6125c107797b609ff9b7a6ba7991b5
      x-checker-data:
        type: pypi
        name: httpcore
        packagetype: bdist_wheel

  - name: python-httpx
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "httpx>=0.27.2" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/56/95/9377bcb415797e44274b51d46e3249eba641711cf3348050f76ee7b15ffc/httpx-0.27.2-py3-none-any.whl
      sha256: 7bb2708e112d8fdd7829cd4243970f0c223274051cb35ee80c03301ee29a3df0
      x-checker-data:
        type: pypi
        name: httpx
        packagetype: bdist_wheel

  - name: python-hyperlink
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "hyperlink>=21.0.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/6e/aa/8caf6a0a3e62863cbb9dab27135660acba46903b703e224f14f447e57934/hyperlink-21.0.0-py2.py3-none-any.whl
      sha256: e6b14c37ecb73e89c77d78cdb4c2cc8f3fb59a885c5b3f819ff4ed80f25af1b4
      x-checker-data:
        type: pypi
        name: hyperlink
        packagetype: bdist_wheel

  - name: python-more_itertools
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "more_itertools>=10.5.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/48/7e/3a64597054a70f7c86eb0a7d4fc315b8c1ab932f64883a297bdffeb5f967/more_itertools-10.5.0-py3-none-any.whl
      sha256: 037b0d3203ce90cca8ab1defbbdac29d5f993fc20131f3664dc8d6acfa872aef
      x-checker-data:
        type: pypi
        name: more_itertools
        packagetype: bdist_wheel

  - name: python-jaraco.classes
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "jaraco.classes>=3.4.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/7f/66/b15ce62552d84bbfcec9a4873ab79d993a1dd4edb922cbfccae192bd5b5f/jaraco.classes-3.4.0-py3-none-any.whl
      sha256: f662826b6bed8cace05e7ff873ce0f9283b5c924470fe664fff1c2f00f581790
      x-checker-data:
        type: pypi
        name: jaraco.classes
        packagetype: bdist_wheel

  - name: python-jaraco.functools
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "jaraco.functools>=4.0.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/b1/54/7623e24ffc63730c3a619101361b08860c6b7c7cfc1aef6edb66d80ed708/jaraco.functools-4.0.2-py3-none-any.whl
      sha256: c9d16a3ed4ccb5a889ad8e0b7a343401ee5b2a71cee6ed192d3f68bc351e94e3
      x-checker-data:
        type: pypi
        name: jaraco.functools
        packagetype: bdist_wheel

  - name: python-backports.tarfile
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "backports.tarfile>=1.2.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/b9/fa/123043af240e49752f1c4bd24da5053b6bd00cad78c2be53c0d1e8b975bc/backports.tarfile-1.2.0-py3-none-any.whl
      sha256: 77e284d754527b01fb1e6fa8a1afe577858ebe4e9dad8919e34c862cb399bc34
      x-checker-data:
        type: pypi
        name: backports.tarfile
        packagetype: bdist_wheel

  - name: python-jaraco.context
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "jaraco.context>=6.0.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/ff/db/0c52c4cf5e4bd9f5d7135ec7669a3a767af21b3a308e1ed3674881e52b62/jaraco.context-6.0.1-py3-none-any.whl
      sha256: f797fc481b490edb305122c9181830a3a5b76d84ef6d1aef2fb9b47ab956f9e4
      x-checker-data:
        type: pypi
        name: jaraco.context
        packagetype: bdist_wheel

  - name: python-zipp
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "zipp>=3.2.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/62/8b/5ba542fa83c90e09eac972fc9baca7a88e7e7ca4b221a89251954019308b/zipp-3.20.2-py3-none-any.whl
      sha256: a817ac80d6cf4b23bf7f2828b7cabf326f15a001bea8b1f9b49631780ba28350
      x-checker-data:
        type: pypi
        name: zipp
        packagetype: bdist_wheel

  - name: python-importlib_metadata
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "importlib_metadata>=8.5.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/a0/d9/a1e041c5e7caa9a05c925f4bdbdfb7f006d1f74996af53467bc394c97be7/importlib_metadata-8.5.0-py3-none-any.whl
      sha256: 45e54197d28b7a7f1559e60b95e7c567032b602131fbd588f1497f47880aa68b
      x-checker-data:
        type: pypi
        name: importlib_metadata
        packagetype: bdist_wheel

  - name: python-cryptography
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "cryptography>=3.3.3" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/62/d5/5f610ebe421e85889f2e55e33b7f9a6795bd982198517d912eb1c76e1a53/pycparser-2.21-py2.py3-none-any.whl
      sha256: 8ee45429555515e1f6b185e78100aea234072576aa43ab53aefcae078162fca9
      x-checker-data:
        type: pypi
        name: pycparser
        packagetype: bdist_wheel
    - type: file
      url: https://files.pythonhosted.org/packages/68/ce/95b0bae7968c65473e1298efb042e10cafc7bafc14d9e4f154008241c91d/cffi-1.16.0.tar.gz
      sha256: bcb3ef43e58665bbda2fb198698fcae6776483e0c4a631aa5647806c25e02cc0
      x-checker-data:
        type: pypi
        name: cffi
        packagetype: bdist_wheel
    - type: file
      url: https://files.pythonhosted.org/packages/25/1d/f86ce362aedc580c3f90c0d74fa097289e3af9ba52b8d5a37369c186b0f1/cryptography-41.0.4-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl
      sha256: e40211b4923ba5a6dc9769eab704bdb3fbb58d56c5b336d30996c24fcf12aadb
      x-checker-data:
        type: pypi
        name: cryptography
        packagetype: bdist_wheel
      only-arches: ["x86_64"]
    - type: file
      url: https://files.pythonhosted.org/packages/e2/b5/11bcc59ad5a7121fe1279a716f3e212f6b37ef993726b06c25aa3aefa0a7/cryptography-41.0.4-cp37-abi3-manylinux_2_17_aarch64.manylinux2014_aarch64.whl
      sha256: cecfefa17042941f94ab54f769c8ce0fe14beff2694e9ac684176a2535bf9714
      x-checker-data:
        type: pypi
        name: cryptography
        packagetype: bdist_wheel
      only-arches: ["aarch64"]

  - name: python-jeepney
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "SecretStorage" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/54/24/b4293291fa1dd830f353d2cb163295742fa87f179fcc8a20a306a81978b7/SecretStorage-3.3.3-py3-none-any.whl
      sha256: f356e6628222568e3af06f2eba8df495efa13b3b63081dafd4f7d9a7b7bc9f99
      x-checker-data:
        type: pypi
        name: SecretStorage
        packagetype: bdist_wheel
    - type: file
      url: https://files.pythonhosted.org/packages/ae/72/2a1e2290f1ab1e06f71f3d0f1646c9e4634e70e1d37491535e19266e8dc9/jeepney-0.8.0-py3-none-any.whl
      sha256: c0a454ad016ca575060802ee4d590dd912e35c122fa04e70306de3d076cce755
      x-checker-data:
        type: pypi
        name: jeepney
        packagetype: bdist_wheel

  - name: python-keyring
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "keyring>=25.4.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/83/25/e6d59e5f0a0508d0dca8bb98c7f7fd3772fc943ac3f53d5ab18a218d32c0/keyring-25.4.1-py3-none-any.whl
      sha256: 5426f817cf7f6f007ba5ec722b1bcad95a75b27d780343772ad76b17cb47b0bf
      x-checker-data:
        type: pypi
        name: keyring
        packagetype: bdist_wheel

  - name: python-mdurl
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "mdurl>=0.1.2" --no-build-isolation
    cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/b3/38/89ba8ad64ae25be8de66a6d463314cf1eb366222074cfda9ee839c56a4b4/mdurl-0.1.2-py3-none-any.whl
      sha256: 84008a41e51615a49fc9966191ff91509e3c40b939176e643fd50a5c2196b8f8
      x-checker-data:
        type: pypi
        name: mdurl
        packagetype: bdist_wheel

  - name: python-markdown-it-py
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "markdown-it-py>=3.0.0" --no-build-isolation
    cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/42/d7/1ec15b46af6af88f19b8e5ffea08fa375d433c998b8a7639e76935c14f1f/markdown_it_py-3.0.0-py3-none-any.whl
      sha256: 355216845c60bd96232cd8d8c40e8f9765cc86f46880e43a8fd22dc1a1a8cab1
      x-checker-data:
        type: pypi
        name: markdown-it-py
        packagetype: bdist_wheel

  - name: python-rich
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "rich>=13.8.0" --no-build-isolation
    cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/b0/11/dadb85e2bd6b1f1ae56669c3e1f0410797f9605d752d68fb47b77f525b31/rich-13.8.1-py3-none-any.whl
      sha256: 1760a3c0848469b97b558fc61c85233e3dafb69c7a071b4d60c38099d3cd4c06
      x-checker-data:
        type: pypi
        name: rich
        packagetype: bdist_wheel

  - name: python-uv
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "uv" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/80/f3/674fc5fa68d1ddec989f6e447dc5b2818c8dd51aad8da26776f1c8f5847c/uv-0.4.15-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl
      sha256: 9e28141883c0aa8525ad5418e519d8791b7dd75f35020d3b1457db89346c5dc8
      x-checker-data:
        type: pypi
        name: uv
        packagetype: bdist_wheel
      only-arches: ["x86_64"]
    - type: file
      url: https://files.pythonhosted.org/packages/75/74/35c45db4465b084c6af4d4468b06921a4b1e679fb8cfa5883bd4486bec79/uv-0.4.15-py3-none-manylinux_2_17_aarch64.manylinux2014_aarch64.musllinux_1_1_aarch64.whl
      sha256: 1401e73f0e8df62b4cfbf394e65a75f18b73bf8a94a6c5653a55bd6fdb8e1bc3
      x-checker-data:
        type: pypi
        name: uv
        packagetype: bdist_wheel
      only-arches: ["aarch64"]

  - name: python-zstandard
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "zstandard" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/76/3f/dbafccf19cfeca25bbabf6f2dd81796b7218f768ec400f043edc767015a6/zstandard-0.23.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl
      sha256: fd30d9c67d13d891f2360b2a120186729c111238ac63b43dbd37a5a40670b8ca
      x-checker-data:
        type: pypi
        name: zstandard
        packagetype: bdist_wheel
      only-arches: ["x86_64"]
    - type: file
      url: https://files.pythonhosted.org/packages/63/b6/677e65c095d8e12b66b8f862b069bcf1f1d781b9c9c6f12eb55000d57583/zstandard-0.23.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl
      sha256: 983b6efd649723474f29ed42e1467f90a35a74793437d0bc64a5bf482bedfa0a
      x-checker-data:
        type: pypi
        name: zstandard
        packagetype: bdist_wheel
      only-arches: ["aarch64"]

  - name: python-hatch
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "hatch>=1.12.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/b9/f8/feced7779d755758a52d1f6635d990b8d98dc0a29fa568bbe0625f18fdf3/filelock-3.16.1-py3-none-any.whl
      sha256: 2082e5703d51fbf98ea75855d9d5527e33d8ff23099bec374a134febee6946b0
      x-checker-data:
        type: pypi
        name: filelock
        packagetype: bdist_wheel

    - type: file
      url: https://files.pythonhosted.org/packages/8e/41/9307e4f5f9976bc8b7fea0b66367734e8faf3ec84bc0d412d8cfabbb66cd/distlib-0.3.8-py2.py3-none-any.whl
      sha256: 034db59a0b96f8ca18035f36290806a9a6e6bd9d1ff91e45a7f172eb17e51784
      x-checker-data:
        type: pypi
        name: distlib
        packagetype: bdist_wheel

    - type: file
      url: https://files.pythonhosted.org/packages/c6/1d/e1a44fdd6d30829ba21fc58b5d98a67e7aae8f4165f11d091e53aec12560/virtualenv-20.26.5-py3-none-any.whl
      sha256: 4f3ac17b81fba3ce3bd6f4ead2749a72da5929c01774948e243db9ba41df4ff6
      x-checker-data:
        type: pypi
        name: virtualenv
        packagetype: bdist_wheel
    - type: file
      url: https://files.pythonhosted.org/packages/e0/f9/0595336914c5619e5f28a1fb793285925a8cd4b432c9da0a987836c7f822/shellingham-1.5.4-py2.py3-none-any.whl
      sha256: 7ecfff8f2fd72616f7481040475a65b2bf8af90a56c89140852d1120324e8686
      x-checker-data:
        type: pypi
        name: shellingham
        packagetype: bdist_wheel
    - type: file
      url: https://files.pythonhosted.org/packages/43/99/3ec6335ded5b88c2f7ed25c56ffd952546f7ed007ffb1e1539dc3b57015a/userpath-1.9.2-py3-none-any.whl
      sha256: 2cbf01a23d655a1ff8fc166dfb78da1b641d1ceabf0fe5f970767d380b14e89d
      x-checker-data:
        type: pypi
        name: userpath
        packagetype: bdist_wheel
    - type: file
      url: https://files.pythonhosted.org/packages/f9/b6/a447b5e4ec71e13871be01ba81f5dfc9d0af7e473da256ff46bc0e24026f/tomlkit-0.13.2-py3-none-any.whl
      sha256: 7a974427f6e119197f670fbbbeae7bef749a6c14e793db934baefc1b5f03efde
      x-checker-data:
        type: pypi
        name: tomlkit
        packagetype: bdist_wheel
    - type: file
      url: https://files.pythonhosted.org/packages/bb/01/1da9c66ecb20f31ed5aa5316a957e0b1a5e786a0d9689616ece4ceaf1321/tomli_w-1.0.0-py3-none-any.whl
      sha256: 9f2a07e8be30a0729e533ec968016807069991ae2fd921a78d42f429ae5f4463
      x-checker-data:
        type: pypi
        name: tomli_w
        packagetype: bdist_wheel

    - type: file
      url: https://files.pythonhosted.org/packages/22/a6/858897256d0deac81a172289110f31629fc4cee19b6f01283303e18c8db3/ptyprocess-0.7.0-py2.py3-none-any.whl
      sha256: 4b41f3967fce3af57cc7e94b888626c18bf37a083e3651ca8feeb66d492fef35
      x-checker-data:
        type: pypi
        name: ptyprocess
        packagetype: bdist_wheel

    - type: file
      url: https://files.pythonhosted.org/packages/39/7b/88dbb785881c28a102619d46423cb853b46dbccc70d3ac362d99773a78ce/pexpect-4.8.0-py2.py3-none-any.whl
      sha256: 0b48a55dcb3c05f3329815901ea4fc1537514d6ba867a152b581d69ae3710937
      x-checker-data:
        type: pypi
        name: pexpect
        packagetype: bdist_wheel
    - type: file
      url: https://files.pythonhosted.org/packages/56/29/3ec311dc18804409ecf0d2b09caa976f3ae6215559306b5b530004e11156/platformdirs-3.11.0-py3-none-any.whl
      sha256: e9d171d00af68be50e9202731309c4e658fd8bc76f55c11c7dd760d023bda68e
      x-checker-data:
        type: pypi
        name: platformdirs
        packagetype: bdist_wheel
    - type: file
      url: https://files.pythonhosted.org/packages/b7/ad/63c1df39881b13ff1aad632809a680dabdcd40bf65a05c5194b41698b8b3/hatch-1.12.0-py3-none-any.whl
      sha256: 7df02b2df8b2364c33f1cadab4966ae24d8dd235edd61b21ed9c2975506e4174
      x-checker-data:
        type: pypi
        name: hatch
        packagetype: bdist_wheel

  - name: python-editables
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "editables" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/6b/be/0f2f4a5e8adc114a02b63d92bf8edbfa24db6fc602fca83c885af2479e0e/editables-0.5-py3-none-any.whl
      sha256: 61e5ffa82629e0d8bfe09bc44a07db3c1ab8ed1ce78a6980732870f19b5e7d4c
      x-checker-data:
        type: pypi
        name: editables
        packagetype: bdist_wheel

- name: python-hatchling-ext
  build-commands: []
  buildsystem: simple
  modules:
  - name: hatch-gettext
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "hatch-gettext>=1.1.0" --no-build-isolation
    # cleanup: ['*']
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/38/53/c6f3c7fcc2dc8aa93323ea546ae1e701301bdef5c93719e43ea953cfe4eb/hatch_gettext-1.1.0-py3-none-any.whl
      sha256: 3356492a7f90a57a8ea1e0c4702ac62da3fd5f8e5e92790b5274d01e5f2420c6
      x-checker-data:
        type: pypi
        name: hatch-gettext
        packagetype: bdist_wheel

  - name: argparse-manpage
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "argparse-manpage>=4.6" --no-build-isolation
    # cleanup: ['*']
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/3d/b7/cacb63bd461c83050b3b0efffc9151077b69de900ef5559ffeee72fa825b/argparse-manpage-4.6.tar.gz
      sha256: 0b659d70fd142876da41c2918bd6de4d027875720b0e4672d6443b51198dbb62
      x-checker-data:
        type: pypi
        name: argparse-manpage
        packagetype: sdist

  - name: hatch-argparse-manpage
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "hatch-argparse-manpage>=1.0.0" --no-build-isolation
    # cleanup: ["*"]
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/a7/f4/e92049e7ec2eedf6ca1610e8755f032ed724f5e7df94afe9cc17a17bf845/hatch_argparse_manpage-1.0.0-py3-none-any.whl
      sha256: 43798e418f5ca1b94c5d615af1860097b6dfb5cf0cdbfdb34674e767ea285d40
      x-checker-data:
        type: pypi
        name: hatch-argparse-manpage
        packagetype: bdist_wheel


# runtime dep
- name: python3-arrow
  build-commands: []
  buildsystem: simple
  modules:
  - name: python3-arrow
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "arrow>=0.9.0" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/aa/4c/5c684b333135a6fb085bb5a5bdfd962937f80bec06745a88fd551e29f4d9/types_python_dateutil-2.9.0.20240906-py3-none-any.whl
      sha256: 27c8cc2d058ccb14946eebcaaa503088f4f6dbc4fb6093d3d456a49aef2753f6
      x-checker-data:
        type: pypi
        name: types-python-dateutil
        packagetype: bdist_wheel

    - type: file
      url: https://files.pythonhosted.org/packages/ec/57/56b9bcc3c9c6a792fcbaf139543cee77261f3651ca9da0c93f5c1221264b/python_dateutil-2.9.0.post0-py2.py3-none-any.whl
      sha256: a8b2bc7bffae282281c8140a97d3aa9c14da0b136dfe83f850eea9a5f7470427
      x-checker-data:
        type: pypi
        name: python_dateutil
        packagetype: bdist_wheel

    - type: file
      url: https://files.pythonhosted.org/packages/f8/ed/e97229a566617f2ae958a6b13e7cc0f585470eac730a73e9e82c32a3cdd2/arrow-1.3.0-py3-none-any.whl
      sha256: c728b120ebc00eb84e01882a6f5e7927a53960aa990ce7dd2b10f39005a67f80
      x-checker-data:
        type: pypi
        name: arrow
        packagetype: bdist_wheel

# mega runtime dep
- name: python-runtimedeps
  build-commands: []
  buildsystem: simple
  modules:
  # runtime dep
  - name: python3-Babel
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "Babel" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/ed/20/bc79bc575ba2e2a7f70e8a1155618bb1301eaa5132a8271373a6903f73f8/babel-2.16.0-py3-none-any.whl
      sha256: 368b5b98b37c06b7daf6696391c3240c938b37767d4584413e8438c5c435fa8b
      x-checker-data:
        type: pypi
        name: Babel
        packagetype: bdist_wheel

  # runtime dep
  - name: python3-colour
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "colour>=0.1.5" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/74/46/e81907704ab203206769dee1385dc77e1407576ff8f50a0681d0a6b541be/colour-0.1.5-py2.py3-none-any.whl
      sha256: 33f6db9d564fadc16e59921a56999b79571160ce09916303d35346dddc17978c
      x-checker-data:
        type: pypi
        name: colour
        packagetype: bdist_wheel

  # runtime dep
  - name: python3-pillow
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "pillow" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/cd/74/ad3d526f3bf7b6d3f408b73fde271ec69dfac8b81341a318ce825f2b3812/pillow-10.4.0.tar.gz
      sha256: 166c1cd4d24309b30d61f79f4a9114b7b2313d7450912277855ff5dfd7cd4a06
      x-checker-data:
        type: pypi
        name: pillow
        packagetype: sdist

  # runtime dep
  - name: python3-psutil
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "psutil==6.0.0" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/18/c7/8c6872f7372eb6a6b2e4708b88419fb46b857f7a2e1892966b851cc79fc9/psutil-6.0.0.tar.gz
      sha256: 8faae4f310b6d969fa26ca0545338b21f73c6b15db7c4a8d934a5482faa818f2
      x-checker-data:
        type: pypi
        name: psutil
        packagetype: sdist

  # runtime dep
  - name: python3-pymediainfo
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "pymediainfo>=2.2.0" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/0f/ed/a02b18943f9162644f90354fe6445410e942c857dd21ded758f630ba41c0/pymediainfo-6.1.0.tar.gz
      sha256: 186a0b41a94524f0984d085ca6b945c79a254465b7097f2560dc0c04e8d1d8a5
      x-checker-data:
        type: pypi
        name: pymediainfo
        packagetype: sdist

  # runtime dep
  - name: python3-pyxdg
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "pyxdg>=0.28" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/e5/8d/cf41b66a8110670e3ad03dab9b759704eeed07fa96e90fdc0357b2ba70e2/pyxdg-0.28-py2.py3-none-any.whl
      sha256: bdaf595999a0178ecea4052b7f4195569c1ff4d344567bccdc12dfdf02d545ab
      x-checker-data:
        type: pypi
        name: pyxdg
        packagetype: bdist_wheel

  # runtime dep
  - name: python3-show-in-file-manager
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "show-in-file-manager>=1.1.2" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/8e/2d/cbae20c55a7a5a327de940eb217a5572ff6473e04406e56ece28729e447a/show_in_file_manager-1.1.5-py3-none-any.whl
      sha256: a92a9ab2cd20fca45db5a8b2d2136e4bec624b182f000900855b2d992abd0cbc
      x-checker-data:
        type: pypi
        name: show-in-file-manager
        packagetype: bdist_wheel

  # runtime deps
  - name: python3-sortedcontainers
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "sortedcontainers" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/32/46/9cb0e58b2deb7f82b84065f37f3bffeb12413f947f9388e4cac22c4621ce/sortedcontainers-2.4.0-py2.py3-none-any.whl
      sha256: a163dcaede0f1c021485e957a39245190e74249897e2ae4b2aa38595db237ee0
      x-checker-data:
        type: pypi
        name: sortedcontainers
        packagetype: bdist_wheel

  # runtime dep
  - name: python3-tenacity
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "tenacity" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/b6/cb/b86984bed139586d01532a587464b5805f12e397594f19f931c4c2fbfa61/tenacity-9.0.0-py3-none-any.whl
      sha256: 93de0c98785b27fcf659856aa9f54bfbd399e29969b0621bc7f762bd441b4539
      x-checker-data:
        type: pypi
        name: tenacity
        packagetype: bdist_wheel

  # runtime dep
  - name: python3-tornado
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "tornado" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/ee/66/398ac7167f1c7835406888a386f6d0d26ee5dbf197d8a571300be57662d3/tornado-6.4.1.tar.gz
      sha256: 92d3ab53183d8c50f8204a51e6f91d18a15d5ef261e84d452800d4ff6fc504e9
      x-checker-data:
        type: pypi
        name: tornado
        packagetype: sdist


# for camaera capacity
- name: python-gphoto2
  build-commands: []
  buildsystem: simple
  modules:
  - shared-modules/libusb/libusb.json

  - name: libgphoto2
    config-opts:
    - --disable-docs
    cleanup:
    - /share/doc
    - /share/libgphoto2*
    - /lib/libgphoto2*/*/*.la
    - /doc
    sources:
    - type: archive
      url: https://downloads.sourceforge.net/project/gphoto/libgphoto/2.5.31/libgphoto2-2.5.31.tar.bz2
      sha256: 4f81c34c0b812bee67afd5f144940fbcbe01a2055586a6a1fa2d0626024a545b
      x-checker-data:
        type: anitya
        project-id: 12558
        stable-only: true
        url-template: https://downloads.sourceforge.net/project/gphoto/libgphoto/${version}/libgphoto2-${version}.tar.bz2

  - name: python3-gphoto2
    buildsystem: simple
    build-commands:
    - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "gphoto2>=2.5.0" --no-build-isolation
    sources:
    - type: file
      url: https://files.pythonhosted.org/packages/d9/e0/03167246c2d32d2b646cbd7f1bf424e3e0b52c319d5cc2d72da3998ed141/gphoto2-2.5.0.tar.gz
      sha256: 97d07a3c42067fcae4525600a4ecad5b6b3d3a181cc4c1d594381f411e599e80
      x-checker-data:
        type: pypi
        name: gphoto2
        packagetype: sdist


# for camaera capacity
- name: python3-pyzmq
  build-commands: []
  buildsystem: simple
  modules:
  - name: zeromq
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
    - -DCMAKE_BUILD_TYPE=Release
    cleanup:
    - /bin
    sources:
    - type: archive
      url: https://github.com/zeromq/libzmq/releases/download/v4.3.5/zeromq-4.3.5.tar.gz
      sha256: 6653ef5910f17954861fe72332e68b03ca6e4d9c7160eb3a8de5a5a913bfab43
      x-checker-data:
        type: anitya
        project-id: 16245
        stable-only: true
        url-template: https://github.com/zeromq/libzmq/releases/download/v$version/zeromq-$version.tar.gz

  - name: swig
    config-opts:
    - --without-alllang
    - --with-python=/usr/bin/python3
    - --without-boost
    - --without-pcre
    cleanup:
    - "*"
    sources:
    - type: archive
      url: https://downloads.sourceforge.net/swig/swig-4.2.1.tar.gz
      sha256: fa045354e2d048b2cddc69579e4256245d4676894858fcf0bab2290ecf59b7d8
      x-checker-data:
        type: anitya
        project-id: 4919
        stable-only: true
        url-template: https://downloads.sourceforge.net/swig/swig-${version}.tar.gz

  - name: cppzmq
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
    - -DCMAKE_BUILD_TYPE=Release
    - -DCPPZMQ_BUILD_TESTS=OFF
    sources:
    - type: archive
      url: https://github.com/zeromq/cppzmq/archive/refs/tags/v4.10.0.tar.gz
      sha256: c81c81bba8a7644c84932225f018b5088743a22999c6d82a2b5f5cd1e6942b74
      x-checker-data:
        type: anitya
        project-id: 18648
        stable-only: true
        url-template: https://github.com/zeromq/cppzmq/archive/refs/tags/v$version.tar.gz

  - name: pyzmq
    buildsystem: simple
    build-commands:
    - python3 setup.py install --prefix=/app --root=/
    sources:
    - type: git
      url: https://github.com/zeromq/pyzmq.git
      commit: 8fb0f0f6e8fb7b0a0cfaf8d32d22960f70d3d4fa
      tag: v19.0.2


# runtime dep for notifications
- name: libnotify
  buildsystem: meson
  config-opts:
  - -Dman=false
  - -Dtests=false
  - -Dgtk_doc=false
  - -Ddocbook_docs=disabled
  sources:
  - type: archive
    url: https://download.gnome.org/sources/libnotify/0.8/libnotify-0.8.3.tar.xz
    sha256: ee8f3ef946156ad3406fdf45feedbdcd932dbd211ab4f16f75eba4f36fb2f6c0
    x-checker-data:
      project-id: 13149
      type: anitya
      url-template: https://download.gnome.org/sources/libnotify/$major.$minor/libnotify-$version.tar.xz

# following dependencies are for exif images and metadata
- name: python-gexiv2
  build-commands: []
  buildsystem: simple
  modules:
  - name: exiv2
    buildsystem: cmake-ninja
    config-opts:
    - -DEXIV2_ENABLE_BMFF=ON
    - -DEXIV2_ENABLE_INIH=OFF
    builddir: true
    sources:
    - type: archive
      url: https://github.com/Exiv2/exiv2/archive/refs/tags/v0.28.3.tar.gz
      sha256: 1315e17d454bf4da3cc0edb857b1d2c143670f3485b537d0f946d9ed31d87b70
    cleanup:
    - /include
    - "/lib/*.a"
    - /lib/pkgconfig/
    - /lib/cmake/
    - "/bin/exi*"
    - "/bin/ipt*"
    - "/bin/xmp*"
    - "/bin/m*"
    - "/binsortedcontainers/addmoddel"
    - "/bin/geotag"
    - "/bin/taglist"
    x-checker-data:
      type: "anitya"
      project-id: 769
      stable-only: true
      url-template: "https://github.com/Exiv2/exiv2/archive/refs/tags/v$version.tar.gz"

  - name: gexiv2
    buildsystem: meson
    build-options:
      env:
      - "-PKG_CONFIG_GOBJECT_INTROSPECTION_1_0_GIRDIR=/app/share/gir-1.0"
      - "-PKG_CONFIG_GOBJECT_INTROSPECTION_1_0_TYPELIBDIR=/app/lib/girepository-1.0"
    config-opts:
    - -Dvapi=false
    sources:
    - type: archive
      url: https://download.gnome.org/sources/gexiv2/0.14/gexiv2-0.14.3.tar.xz
      sha256: 21e64d2c56e9b333d44fef3f2a4b25653d922c419acd972fa96fab695217e2c8
    cleanup:
    - /include
    - "/lib/*.a"
    - /lib/pkgconfig/
    x-checker-data:
      type: "anitya"
      project-id: 1626
      stable-only: true
      url-template: "https://download.gnome.org/sources/gexiv2/$major.$minor/gexiv2-$version.tar.xz"


# udisk dependces
- name: udisk
  build-commands: []
  buildsystem: simple
  modules:
  - name: polkit
    buildsystem: meson
    config-opts:
    - -Dlibs-only=true
    - -Dman=false
    - -Dintrospection=true
    - -Dexamples=false
    - -Dgtk_doc=false
    - -Dauthfw=shadow
    - -Dsystemdsystemunitdir=/app/lib/systemd/system
    cleanup:
    - /bin/*
    - /etc/pam.d
    - /etc/dbus-1
    - /share/dbus-1/system-services/*
    - /share/polkit-1
    - /share/polkit-1/actions/*
    - /lib/polkit-1
    - /include
    sources:
    - x-checker-data:
        type: anitya
        project-id: 3682
        url-template: >-
          https://github.com/polkit-org/polkit/archive/refs/tags/$version.tar.gz
      type: archive
      url: >-
        https://github.com/polkit-org/polkit/archive/refs/tags/125.tar.gz
      sha256: ea5cd6e6e2afa6bad938ee770bf0c2cd9317910f37956faeba2869adcf3747d1
    - type: patch
      path: udisk-polkit-0001-build-Don-t-install-daemon-files-when-building-libs-.patch

  - name: libudisk
    buildsystem: autotools
    config-opts:
    - --disable-gtk-doc
    - --disable-daemon
    - --enable-introspection=yes
    sources:
    - type: archive
      url: https://github.com/storaged-project/udisks/releases/download/udisks-2.10.1/udisks-2.10.1.tar.bz2
      sha256: b75734ccf602540dedb4068bec206adcb508a4c003725e117ae8f994d92d8ece
      x-checker-data:
        type: anitya
        project-id: 5028
        stable-only: true
        url-template: https://github.com/storaged-project/udisks/releases/download/udisks-$version/udisks-$version.tar.bz2


# exif tool needed
- name: exiftool
  build-commands: []
  buildsystem: simple
  modules:
  - name: exiv2
    buildsystem: cmake-ninja
    config-opts:
    - -DEXIV2_BUILD_EXIV2_COMMAND=OFF
    - -DEXIV2_ENABLE_INIH=OFF
    - -DEXIV2_BUILD_DOC:BOOL=OFF
    - -DEXIV2_BUILD_SAMPLES=OFF
    sources:
    - type: archive
      url: https://github.com/Exiv2/exiv2/archive/refs/tags/v0.28.3.tar.gz
      sha256: 1315e17d454bf4da3cc0edb857b1d2c143670f3485b537d0f946d9ed31d87b70
      x-checker-data:
        type: anitya
        project-id: 769
        stable-only: true
        url-template: https://github.com/Exiv2/exiv2/archive/refs/tags/v$version.tar.gz

  - name: exiftool
    buildsystem: simple
    build-commands:
    - perl Makefile.PL
    - make install
    cleanup:
    - '*.pod'
    sources:
    - type: git
      url: https://github.com/exiftool/exiftool.git
      tag: '12.96'
      commit: 0f63a780906abcccba796761fc2e66a0737e2f16
      x-checker-data:
        type: git
        tag-pattern: ^(\d+\.\d+[02468])$
    modules:
    - name: perl
      buildsystem: simple
      build-commands:
      - ./Configure -des -Dprefix=$FLATPAK_DEST -Dman1dir=none -Dman3dir=none
      - make
      - make install
      post-install:
      # Fix wrong permissions
      - chmod -R u+w $FLATPAK_DEST/lib/perl5
      cleanup:
      - /bin/corelist
      - /bin/cpan
      - /bin/enc2xs
      - /bin/encguess
      - /bin/h2ph
      - /bin/h2xs
      - /bin/instmodsh
      - /bin/json_pp
      - /bin/libnetcfg
      - /bin/perl5*
      - /bin/perlbug
      - /bin/perldoc
      - /bin/perlivp
      - /bin/perlthanks
      - /bin/piconv
      - /bin/pl2pm
      - /bin/pod2html
      - /bin/pod2man
      - /bin/pod2text
      - /bin/pod2usage
      - /bin/podchecker
      - /bin/prove
      - /bin/ptar
      - /bin/ptardiff
      - /bin/ptargrep
      - /bin/shasum
      - /bin/splain
      - /bin/streamzip
      - /bin/xsubpp
      - /bin/zipdetails
      - '*.pod'
      sources:
      - type: git
        url: https://github.com/Perl/perl5.git
        tag: v5.40.0
        commit: f22a16ecf4821b7e93d2569f630817a2631fddd9
        disable-fsckobjects: true
        x-checker-data:
          type: git
          tag-pattern: ^v(\d+\.\d+[02468].\d+)$


# for info of file
- name: libmediainfo
  build-commands: []
  buildsystem: simple
  modules:
  - name: libzen
    subdir: "Project/GNU/Library"
    sources:
    - type: archive
      url: https://github.com/MediaArea/ZenLib/archive/refs/tags/v0.4.41.tar.gz
      sha256: 45d5173fa0278f5264daa6836ae297aa303984482227d00b35c4f03929494c8f
      x-checker-data:
        type: anitya
        project-id: 1810
        stable-only: true
        url-template: https://github.com/MediaArea/ZenLib/archive/refs/tags/v$version.tar.gz

  - name: MediaInfoLib
    subdir: "Project/GNU/Library"
    sources:
    - type: archive
      url: https://github.com/MediaArea/MediaInfoLib/archive/refs/tags/v24.06.tar.gz
      sha256: 2a569dca09d953a38bf4ba0f47ba5415183c79436babb09e1202ebc3a54aa046
      x-checker-data:
        type: anitya
        project-id: 16249
        stable-only: true
        url-template: https://github.com/MediaArea/MediaInfoLib/archive/refs/tags/v$version.tar.gz


# for apple devices
- name: ifuse
  build-commands: []
  buildsystem: simple
  modules:
  - name: cython
    buildsystem: simple
    build-commands:
    - python3 setup.py install --prefix=${FLATPAK_DEST} --root=/
    sources:
    - type: archive
      url: https://github.com/cython/cython/releases/download/3.0.11-1/cython-3.0.11.tar.gz
      sha256: 7146dd2af8682b4ca61331851e6aebce9fe5158e75300343f80c07ca80b1faff
      x-checker-data:
        type: anitya
        project-id: 12679
        stable-only: true
        url-template: https://github.com/cython/cython/releases/download/$version/cython-$version.tar.gz

  - name: libplist
    buildsystem: autotools
    sources:
    - type: archive
      url: https://github.com/libimobiledevice/libplist/releases/download/2.6.0/libplist-2.6.0.tar.bz2
      sha256: 67be9ee3169366589c92dc7c22809b90f51911dd9de22520c39c9a64fb047c9c
      x-checker-data:
        type: anitya
        project-id: 11675
        stable-only: true
        url-template: https://github.com/libimobiledevice/libplist/releases/download/$version/libplist-$version.tar.bz2

  - name: libimobiledevice-glue
    buildsystem: autotools
    sources:
    - type: archive
      url: https://github.com/libimobiledevice/libimobiledevice-glue/releases/download/1.3.0/libimobiledevice-glue-1.3.0.tar.bz2
      sha256: 96ec4eb2b1e217392149eafb2b5c3cd3e7110200f0e2bb5003c37d3ead7244ef
      x-checker-data:
        type: anitya
        project-id: 342550
        stable-only: true
        url-template: https://github.com/libimobiledevice/libimobiledevice-glue/releases/download/$version/libimobiledevice-glue-$version.tar.bz2

  - name: libusbmuxd
    buildsystem: autotools
    sources:
    - type: archive
      url: https://github.com/libimobiledevice/libusbmuxd/releases/download/2.1.0/libusbmuxd-2.1.0.tar.bz2
      sha256: c35bf68f8e248434957bd5b234c389b02206a06ecd9303a7fb931ed7a5636b16
      x-checker-data:
        type: anitya
        project-id: 11678
        stable-only: true
        url-template: https://github.com/libimobiledevice/libusbmuxd/releases/download/$version/libusbmuxd-$version.tar.bz2

  - name: libtatsu
    buildsystem: autotools
    sources:
    - type: archive
      url: https://github.com/libimobiledevice/libtatsu/releases/download/1.0.3/libtatsu-1.0.3.tar.bz2

      sha256: 4f69452d23e50e0ffbe844110e6ab6a900d080e051fbda3b7d595f679dee9bc5
      x-checker-data:
        type: anitya
        project-id: 374528
        stable-only: true
        url-template: https://github.com/libimobiledevice/libtatsu/releases/download/$version/libtatsu-$version.tar.bz2

  - name: libimobiledevice
    buildsystem: autotools
    sources:
    - type: git
      url: https://github.com/libimobiledevice/libimobiledevice.git
      commit: ed9703db1ee6d54e3801b618cee9524563d709e1

  - name: libfuse
    config-opts:
    - --enable-lib
    build-options:
      env:
        MOUNT_FUSE_PATH: /app/bin
        INIT_D_PATH: /app/etc/init.d
        UDEV_RULES_PATH: /app/etc/udev/rules.d
    sources:
    - type: archive
      url: https://github.com/libfuse/libfuse/archive/fuse-2.9.9.tar.gz
      sha256: e57a24721177c3b3dd71cb9239ca46b4dee283db9388d48f7ccd256184982194
      x-checker-data:
        type: anitya
        project-id: 861
        url-template: https://github.com/libfuse/libfuse/archive/fuse-$version.tar.gz
        versions: {<: "3.0"}
    - type: shell
      commands:
      - ./makeconf.sh
    - type: patch
      paths:
      - ifuse-libfuse-closefrom.patch
    cleanup:
    - /etc
    - /include
    - /lib/pkgconfig

  - name: ifuse
    buildsystem: autotools
    sources:
    - type: archive
      url: https://github.com/libimobiledevice/ifuse/releases/download/1.1.4/ifuse-1.1.4.tar.bz2
      sha256: 3550702ef94b2f5f16c7db91c6b3282b2aed1340665834a03e47458e09d98d87
      x-checker-data:
        type: anitya
        project-id: 11677
        stable-only: true
        url-template: https://github.com/libimobiledevice/ifuse/releases/download/$version/ifuse-$version.tar.bz2


- name: rapid-photo-downloader
  buildsystem: simple
  build-commands:
  - hatch build -t wheel
  - install -Dm444 data/icons/scalable/apps/rapid-photo-downloader.svg ${FLATPAK_DEST}/share/icons/hicolor/scalable/apps/${FLATPAK_ID}.svg
  - install -Dm444 ${FLATPAK_ID}.metainfo.xml ${FLATPAK_DEST}/share/metainfo/${FLATPAK_ID}.metainfo.xml
  - install -Dm444 ${FLATPAK_ID}.desktop      ${FLATPAK_DEST}/share/applications/${FLATPAK_ID}.desktop
  - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} . --no-build-isolation
  sources:
  - type: git
    url: https://github.com/damonlynch/rapid-photo-downloader
    tag: v0.9.37a5
    commit: 0790ca2f771da819d32ea2e9cae979bac9d0f490
  - type: file
    path: net.damonlynch.rapid_photo_downloader.desktop
  - type: file
    path: net.damonlynch.rapid_photo_downloader.metainfo.xml
  x-checker-data:
    type: git
    tag-pattern: "^v([\\d.]+)$"
