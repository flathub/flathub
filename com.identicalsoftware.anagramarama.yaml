app-id: com.identicalsoftware.anagramarama
runtime: org.freedesktop.Platform
runtime-version: 22.08
sdk: org.freedesktop.Sdk
command: anagramarama
rename-icon: anagramarama
rename-desktop-file: anagramarama.desktop
rename-appdata-file: anagramarama.metainfo.xml
finish-args:
  - --device=dri
  - --share=network
  - --share=ipc
  - --socket=x11
  - --socket=pulseaudio

modules:
  - name: libjansson
    buildsystem: cmake-ninja
    sources:
    - type: git
      url: https://github.com/akheron/jansson.git
      tag: v2.14
      commit: 684e18c927e89615c2d501737e90018f4930d6c5
      x-checker-data:
        type: git
        tag-pattern: ^v([\d.]+)$

  - name: libgamerzilla
    buildsystem: cmake-ninja
    sources:
    - type: git
      url: https://github.com/dulsi/libgamerzilla.git
      tag: release-0.1.1
      commit: 1b386d8d8429c74a29a4f27b3127d5169bc200de
      x-checker-data:
        type: git
        tag-pattern: ^release-([\d.]+)$

  - name: anagramarama
    buildsystem: cmake-ninja
    sources:
    - type: git
      url: https://github.com/dulsi/anagramarama.git
      tag: v0.7
      commit: 87b5fbed3e05e7a96caab47394524c2234fd146a
      x-checker-data:
        type: git
        tag-pattern: ^v([\d.]+)$
    - type: patch
      path: icon.patch
      use-git: true
    - type: patch
      path: appdata.patch
