id: net.sourceforge.symphonic.jsymphonic
runtime: org.freedesktop.Platform
runtime-version: '23.08'
finish-args:
  - --socket=x11
  - --share=ipc
  - --filesystem=host
sdk: org.freedesktop.Sdk
sdk-extensions:
  - org.freedesktop.Sdk.Extension.openjdk8
command: jsymphonic
modules:
  - name: jsymphonic
    buildsystem: simple
    build-commands:
      - /usr/lib/sdk/openjdk8/install.sh
      - install -Dm644 ${FLATPAK_ID}.metainfo.xml /app/share/metainfo/${FLATPAK_ID}.metainfo.xml
      - install -D ${FLATPAK_ID}.png /app/share/icons/hicolor/512x512/apps/${FLATPAK_ID}.png
      - install -D ${FLATPAK_ID}.desktop /app/share/applications/${FLATPAK_ID}.desktop
      - install -Dm755 jsymphonic.sh /app/bin/jsymphonic
      - install -D *.jar /app/jsymphonic/jsymphonic.jar
    sources:
      - type: script
        dest-filename: jsymphonic.sh
        commands:
          - mkdir -p /var/config/jsymphonic
          - cd /var/config/jsymphonic/
          - /app/jre/bin/java -jar /app/jsymphonic/jsymphonic.jar
      - type: archive
        url: https://downloads.sourceforge.net/project/symphonic/jsymphonic/JSymphonic version 0.3.0 Ode To Freedom/JSymphonic_v0.3.0_Ode_To_Freedom.zip
        sha256: c955d82b1480747a8db0774707f153b2b1b98dec5a3aaed55a9d5ac2a08ffe97
      - type: file
        path: net.sourceforge.symphonic.jsymphonic.metainfo.xml
      - type: file
        path: net.sourceforge.symphonic.jsymphonic.desktop
      - type: file
        path: net.sourceforge.symphonic.jsymphonic.png
