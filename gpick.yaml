name: gpick
buildsystem: simple
builddir: true
sources:
  # Source0
  - type: archive
    url: https://github.com/thezbyg/gpick/archive/gpick-0.2.5.tar.gz
    sha256: 3a9706c101f82e9a49880db9fb408c760d49e6b4506ee5768962c25ec2ecbb57
  # Source1
  # Build config
  - type: file
    path: user-config.py
  # Source2
  # AppData file
  - type: file
    path: com.github.thezbyg.gpick.appdata.xml
  # Delete external libraries
  - type: shell
    commands:
      - rm -rf "extern"
build-commands:
  - scons -j"${FLATPAK_BUILDER_N_JOBS}";
  - scons prefix="${FLATPAK_DEST}" install;
post-install:
  - install -p -D -m 0644 "${FLATPAK_ID}.appdata.xml" -t "${FLATPAK_DEST}/share/metainfo/";
