<xml>
    <mapname>Treehouse</mapname>
    <room>
        <num>0</num>
        <name>Entrance room</name>
        <desc>A standard room, quite plain.</desc>
        <exits>
            <exit>-1</exit>
            <exit>-1</exit>
            <exit>-1</exit>
            <exit>1</exit>
        </exits>
        <items>
        </items>
        <enemies>
        </enemies>
    </room>
    <room>
        <num>1</num>
        <name>Viewing gallery</name>
        <desc>A gallery full of some of the world's most expensive paintings.</desc>
        <exits>
            <exit>3</exit>
            <exit>-1</exit>
            <exit>0</exit>
            <exit>2</exit>
        </exits>
        <items>
        </items>
        <enemies>
        </enemies>
    </room>
    <room>
        <num>2</num>
        <name>Long hallway</name>
        <desc>A rather long hallway, walls made of solid oak.</desc>
        <exits>
            <exit>4</exit>
            <exit>-1</exit>
            <exit>1</exit>
            <exit>-1</exit>
        </exits>
        <items>
        </items>
        <enemies>
        </enemies>
    </room>
    <room>
        <num>3</num>
        <name>Laboratory</name>
        <desc>A pristine, space-age laboratory.</desc>
        <exits>
            <exit>5</exit>
            <exit>1</exit>
            <exit>-1</exit>
            <exit>-1</exit>
        </exits>
        <items>
            <roomweapon>1</roomweapon>
        </items>
        <enemies>
        </enemies>
    </room>
    <room>
        <num>4</num>
        <name>Dining room</name>
        <desc>An old-fashioned, carpeted dining room.</desc>
        <exits>
            <exit>-1</exit>
            <exit>2</exit>
            <exit>5</exit>
            <exit>-1</exit>
        </exits>
        <items>
            <roomitem>0</roomitem>
        </items>
        <enemies>
        </enemies>
    </room>
    <room>
        <num>5</num>
        <name>Store room</name>
        <desc>A simple shed-like room, full of old tools.</desc>
        <exits>
            <exit>-1</exit>
            <exit>3</exit>
            <exit>6</exit>
            <exit>4</exit>
        </exits>
        <items>
            <roomitem>1</roomitem>
        </items>
        <enemies>
        </enemies>
    </room>
    <room>
        <num>6</num>
        <name>Hut</name>
        <desc>There is not enogh light in here for you to be able to see much.</desc>
        <exits>
            <exit>-1</exit>
            <exit>-1</exit>
            <exit>-1</exit>
            <exit>5</exit>
        </exits>
        <items>
        </items>
        <enemies>
        </enemies>
    </room>
    <room>
        <num>7</num>
        <name>Sleeping Chamber</name>
        <desc>A hibernation chamber for some sort of ninja.</desc>
        <exits>
            <exit>6</exit>
            <exit>-1</exit>
            <exit>-1</exit>
            <exit>-1</exit>
        </exits>
        <items>
        </items>
        <enemies>
            <roomboss>0</roomboss>
        </enemies>
    </room>
    
    <item>
        <num>0</num>
        <name>Table</name>
        <desc>A large wooden table, with enough space to hide a lot under it.</desc>
        <updroomdesc>-1</updroomdesc>
        <portable>0</portable>
        <revealsitem type="weapon">0</revealsitem>
        <usedin>999999</usedin>
        <usedesc>Weapon does nothing</usedesc>
        <removesroomitem>-1</removesroomitem>
        <addsroomitem>-1</addsroomitem>
        <useroomdesc>-1</useroomdesc>
        <disposable>0</disposable>
    </item>
    <item>
        <num>1</num>
        <name>Spellbook</name>
        <desc>A faintly glowing spell book.</desc>
        <updroomdesc>-1</updroomdesc>
        <portable>1</portable>
        <revealsitem>-1</revealsitem>
        <usedin>-1</usedin>
        <usedesc>The first spell in the book, `lichtus`. The spell to bring light to darkness.</usedesc>
        <removesroomitem>-1</removesroomitem>
        <addsroomitem>-1</addsroomitem>
        <useroomdesc>-1</useroomdesc>
        <disposable>0</disposable>
    </item>
    
    <weapon>
        <num>0</num>
        <name>Nunchuku</name>
        <desc>A pair of solid wooden nunchucks. They look like they could hurt.</desc>
        <updroomdesc>-1</updroomdesc>
        <portable>1</portable>
        <revealsitem>-1</revealsitem>
        <usedin>999999</usedin>
        <usedesc>Weapon does nothing</usedesc>
        <removesroomitem>-1</removesroomitem>
        <addsroomitem>-1</addsroomitem>
        <useroomdesc>-1</useroomdesc>
        <disposable>0</disposable>
        <damage>4</damage>
    </weapon>
    <weapon>
        <num>1</num>
        <name>Bo staff</name>
        <desc>A long, bamboo staff.</desc>
        <updroomdesc>-1</updroomdesc>
        <portable>1</portable>
        <revealsitem>-1</revealsitem>
        <usedin>999999</usedin>
        <usedesc>Weapon does nothing</usedesc>
        <removesroomitem>-1</removesroomitem>
        <addsroomitem>-1</addsroomitem>
        <useroomdesc>-1</useroomdesc>
        <disposable>0</disposable>
        <damage>2</damage>
    </weapon>
    <weapon>
        <num>2</num>
        <name>Katana</name>
        <desc>A long, curved sabre.</desc>
        <updroomdesc>-1</updroomdesc>
        <portable>1</portable>
        <revealsitem>-1</revealsitem>
        <usedin>999999</usedin>
        <usedesc>Weapon does nothing</usedesc>
        <removesroomitem>-1</removesroomitem>
        <addsroomitem>-1</addsroomitem>
        <useroomdesc>-1</useroomdesc>
        <disposable>0</disposable>
        <damage>2</damage>
    </weapon>
    
    <boss>
        <num>0</num>
        <name>samurai</name>
        <description>A samurai trained in the ancient arts.</description>
        <deaddesc>The samurai, finally defeated, bows respectfully before falling to the ground.</deaddesc>
        <enemyweapon>2</enemyweapon>
        <hp>12</hp>
        <loot>
        </loot>
    </boss>
    
    <spell>
        <num>0</num>
        <name>lichtus</name>
        <description></description>
        <effect>
if player.currentroom.name == "Hut":
    for num, room in enumerate(map.rooms):
        if room.name == "Sleeping Chamber":
            player.currentroom.exits[1] = map.rooms[num]
            utils.output("The spell lights up the room, revealing a rope bridge to the South", "blue")
            player.currentroom.description = "A large, well-lit room full of old tech."
else:
    utils.output("This room is already light. The spell does nothing", "blue")
        </effect>
    </spell>
</xml>
