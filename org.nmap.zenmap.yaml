app-id: org.nmap.zenmap
runtime: org.freedesktop.Platform
sdk: org.freedesktop.Sdk
runtime-version: "20.08"
command: zenmap

#rename-desktop-file: asunder.desktop
#rename-icon: asunder

finish-args:
- --socket=wayland
- --socket=x11
- --share=ipc

# Required to load music metadata
- --share=network

# Required for input-output. On request of Upstream,
# full home permissions have been given.
- --filesystem=home
- --env=TMPDIR=/var/tmp

cleanup:
- /man
- /include
- /share/man
- /share/doc
- /lib/*.a
- /lib/*.la

modules:

- shared-modules/gtk2/gtk2.json

- shared-modules/python2.7/python-2.7.json

# Instructions taken from com.github.labyrinth
# https://github.com/flathub/com.github.labyrinth_team.labyrinth
# Might also be a good candidate for a shared module
- py2gtk2.json

- name: zenmap
  buildsystem: autotools
  sources:
    - type: archive
      url: https://nmap.org/dist/nmap-7.91.tar.bz2
      sha256: 18cc4b5070511c51eb243cdd2b0b30ff9b2c4dc4544c6312f75ce3a67a593300

