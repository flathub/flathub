From 661331dcf3247affc7f24fee6b82095f348bb5ae Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Matthias=20Mail=C3=A4nder?= <matthias@mailaender.name>
Date: Sun, 5 Mar 2017 12:07:23 +0100
Subject: [PATCH] Add and install an appdata.xml file for Linux software
 galleries

---
 Makefile.am       |  2 ++
 fityk.appdata.xml | 22 ++++++++++++++++++++++
 2 files changed, 24 insertions(+)
 create mode 100644 fityk.appdata.xml

diff --git a/Makefile.am b/Makefile.am
index 2cf1c924..fa133f5c 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -19,11 +19,13 @@ icon32dir = $(datadir)/icons/hicolor/32x32/apps
 iconscdir = $(datadir)/icons/hicolor/scalable/apps
 desktopdir = $(datadir)/applications
 mimepkgdir = $(datadir)/mime/packages
+appdatadir = $(datadir)/appdata
 
 dist_icon32_DATA = fityk.png
 dist_iconsc_DATA = fityk.svg
 dist_desktop_DATA = fityk.desktop
 dist_mimepkg_DATA = fityk.xml
+dist_appdata_DATA = fityk.appdata.xml
 
 # ---  cli/ ---
 cli_cfityk_SOURCES = cli/gnuplot.cpp cli/main.cpp cli/gnuplot.h
diff --git a/fityk.appdata.xml b/fityk.appdata.xml
new file mode 100644
index 00000000..492dcbff
--- /dev/null
+++ b/fityk.appdata.xml
@@ -0,0 +1,22 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<application>
+  <id type="desktop">fityk.desktop</id>
+  <metadata_license>CC0-1.0</metadata_license>
+  <project_license>GPL-2.0+</project_license>
+  <name>Fityk</name>
+  <summary>Non-linear curve fitting and data analysis</summary>
+  <description>
+    <p>
+      Fityk is a program for nonlinear curve-fitting of analytical
+      functions (especially peak-shaped) to data (usually experimental
+      data). It can also be used for visualization of x-y data only.
+    </p>
+  </description>
+  <screenshots>
+    <screenshot type="default">
+      <image>http://fityk.nieto.pl/_images/fityk-1.0.1-gtk-multi.png</image>
+    </screenshot>
+  </screenshots>
+  <url type="homepage">http://fityk.nieto.pl/</url>
+  <updatecontact>wojdyr@gmail.com</updatecontact>
+</application>
