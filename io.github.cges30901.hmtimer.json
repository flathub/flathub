{
  "app-id": "io.github.cges30901.hmtimer",
  "runtime": "org.kde.Platform",
  "runtime-version": "5.9",
  "sdk": "org.kde.Sdk",
  "command": "hmtimer",
  "finish-args": [ 
    "--socket=x11",
    "--share=ipc",
    "--device=dri",
    "--filesystem=~/.config/autostart",
    "--share=network",
    "--system-talk-name=org.freedesktop.login1",
    "--socket=pulseaudio"
  ],
  "cleanup": ["/include", "*.a"],
  "modules": [
    {
      "name": "hmtimer",
      "buildsystem": "simple",
      "build-commands": [
            "qmake DEFINES+=FLATPAK",
            "make",
            "install -D -m0755 src/hmtimer /app/bin/hmtimer",
            "install -D -m0644 -t /app/share/hmtimer src/language/hmtimer_*.qm",
            "install -D -m0644 io.github.cges30901.hmtimer.desktop /app/share/applications/io.github.cges30901.hmtimer.desktop",
            "install -D -m0644 io.github.cges30901.hmtimer.appdata.xml /app/share/appdata/io.github.cges30901.hmtimer.appdata.xml",
            "install -D -m0644 src/hmtimer.png /app/share/icons/hicolor/128x128/apps/io.github.cges30901.hmtimer.png",
            "install -D -m0644 hmtimer64.png /app/share/icons/hicolor/64x64/apps/io.github.cges30901.hmtimer.png",
            "install -D -m0644 src/hmtimer48.png /app/share/icons/hicolor/48x48/apps/io.github.cges30901.hmtimer.png"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/cges30901/hmtimer/releases/download/hmtimer-2.6.1/hmtimer-2.6.1-src.tar.bz2",
          "sha256": "67e6fec376427681b5323d6acbb69302715a5b71fb5fd402fe1c7b4423a2e4ff"
        },
        {
          "type": "file",
          "path": "io.github.cges30901.hmtimer.desktop"
        },
        {
          "type": "file",
          "path": "io.github.cges30901.hmtimer.appdata.xml"
        },
        {
          "type": "file",
          "path": "hmtimer64.png"
        }
      ]
    },
    {
      "name": "libXmu",
      "sources": [
        {
          "type": "archive",
          "url": "https://xorg.freedesktop.org/releases/individual/lib/libXmu-1.1.2.tar.gz",
          "sha256": "e5fd4bacef068f9509b8226017205040e38d3fba8d2de55037200e7176c13dba"
        }
      ]
    },
    {
      "name": "xset",
      "sources": [
        {
          "type": "archive",
          "url": "https://www.x.org/releases/individual/app/xset-1.2.4.tar.bz2",
          "sha256": "e4fd95280df52a88e9b0abc1fee11dcf0f34fc24041b9f45a247e52df941c957"
        }
      ]
    }
  ]
}

