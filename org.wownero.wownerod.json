{
   "app-id":"org.wownero.wownerod",
   "runtime":"org.freedesktop.Platform",
   "runtime-version":"18.08",
   "sdk":"org.freedesktop.Sdk",
   "command":"wownerod",
   "finish-args":[
      "--filesystem=home:rw",
      "--share=network"
   ],
   "cleanup": ["/include", "/lib/pkgconfig",
                "/share/pkgconfig", "/share/aclocal",
                "/man", "/share/man", "*.la", "*.a"],
   "modules":[
      {
         "name":"boost",
         "buildsystem":"simple",
         "build-commands":[
            "./bootstrap.sh --with-libraries=date_time,filesystem,program_options,system",
            "./b2 -j $FLATPAK_BUILDER_N_JOBS install --prefix=/app"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://dl.bintray.com/boostorg/release/1.68.0/source/boost_1_68_0.tar.bz2",
               "sha256":"7f6130bc3cf65f56a618888ce9d5ea704fa10b462be126ad053e80e553d6d8b7"
            }
         ]
      },
      {
         "name":"openssl",
         "buildsystem":"simple",
         "build-commands":[
            "./config --prefix=/app --openssldir=/app/ssl shared zlib",
            "make -j $FLATPAK_BUILDER_N_JOBS",
            "make install"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://www.openssl.org/source/openssl-1.1.1a.tar.gz",
               "sha256":"fc20130f8b7cbd2fb918b2f14e2f429e109c31ddd0fb38fc5d71d9ffed3f9f41"
            }
         ]
      },
      {
         "name":"zeromq",
         "config-opts":[
            "--disable-static"
         ],
         "sources":[
            {
               "type":"archive",
               "url":"https://github.com/zeromq/libzmq/releases/download/v4.2.3/zeromq-4.2.3.tar.gz",
               "sha256":"8f1e2b2aade4dbfde98d82366d61baef2f62e812530160d2e6d0a5bb24e40bc0"
            }
         ]
      },
      {
         "name":"libsodium",
         "sources":[
            {
               "type":"git",
               "url":"https://github.com/jedisct1/libsodium",
               "tag":"1.0.16",
               "commit":"675149b9b8b66ff44152553fb3ebf9858128363d"
            }
         ]
      },
      {
         "name":"libpgm",
         "buildsystem":"simple",
         "build-commands":[
            "pushd libpgm-5.2.122/openpgm/pgm",
            "./configure --prefix=/app",
            "make",
            "make prefix=/app install"
         ],           
         "sources":[
            {
               "type":"archive",
               "url":"https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/openpgm/libpgm-5.2.122.tar.gz",
               "sha256":"6b895f550b95284dcde7189b01e04a9a1c1f94579af31b1eebd32c2207a1ba2c"
            }
         ]
      },
      {
         "name":"libunbound",
         "sources":[
            {
               "type":"archive",
               "url":"https://nlnetlabs.nl/downloads/unbound/unbound-1.9.0.tar.gz",
               "sha256":"415af94b8392bc6b2c52e44ac8f17935cc6ddf2cc81edfb47c5be4ad205ab917"
            }
         ]
      },
      {
         "name":"wownero",
         "buildsystem":"simple",
         "build-commands":[
            "pushd wownero",
            "USE_SINGLE_BUILDDIR=1 make",
            "install -Dm755 build/release/bin/wownerod /app/bin/wownerod",
            "install -Dm755 build/release/bin/wownero-wallet-cli /app/bin/wownero-wallet-cli",
            "install -Dm755 build/release/bin/wownero-wallet-rpc /app/bin/wownero-wallet-rpc",
            "install -Dm644 org.wownero.wownerod.appdata.xml /app/share/appdata/org.wownero.wownerod.appdata.xml"
         ],
         "sources":[
            {
               "type":"git",
               "url":"https://github.com/wownero/wownero",
               "commit":"c40ab9b5be9b0dec72fa5adbcc45a24ef56ef7fa"
            },
            {
               "type":"file",
               "path":"org.wownero.wownerod.appdata.xml"
            }
         ]
      }
   ]
}