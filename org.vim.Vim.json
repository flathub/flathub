{
  "app-id": "org.vim.Vim",
  "branch": "stable",
  "runtime": "org.freedesktop.Platform",
  "runtime-version": "1.6",
  "sdk": "org.freedesktop.Sdk",
  "command": "vim",
  "cleanup": [
      "/include",
      "/lib/debug",
      "/lib/*.a",
      "/lib/*.la",
      "/lib/pkgconfig",
      "/share/man"
  ],
  "finish-args": [
    "--filesystem=host",
    "--share=ipc",
    "--socket=x11",
    "--socket=wayland"
  ],
  "modules": [
    "shared-modules/lua5.3/lua-5.3.2.json",
    {
      "name": "vim",
      "build-options": {
        "env": {
          "LIBS": "-lm"
        }
      },
      "config-opts": [
          "--enable-gui=gtk3",
          "--enable-gtk3-check",
          "--enable-luainterp",
          "--enable-multibyte",
          "--enable-python3interp",
          "--enable-rubyinterp",
          "--enable-xim",
          "--disable-desktop-database-update",
          "--disable-icon-cache-update",
          "--disable-gnome-check",
          "--disable-motif-check",
          "--disable-athena-check",
          "--disable-fontset",
          "--disable-xsmp",
          "--disable-xsmp-interact",
          "--with-lua-prefix=/app",
          "--with-x"
      ],
      "post-install": [
          "install -D -m644 org.vim.Vim.appdata.xml /app/share/appdata/org.vim.Vim.appdata.xml",
          "install -D -m644 runtime/vim.desktop /app/share/applications/org.vim.Vim.desktop",
          "install -D -m644 runtime/gvim.desktop /app/share/applications/org.vim.Vim.GVim.desktop",
          "install -D -m644 runtime/vim16x16.png /app/share/icons/hicolor/16x16/apps/org.vim.Vim.png",
          "install -D -m644 runtime/vim32x32.png /app/share/icons/hicolor/32x32/apps/org.vim.Vim.png",
          "install -D -m644 runtime/vim48x48.png /app/share/icons/hicolor/48x48/apps/org.vim.Vim.png",
          "install -D -m644 vim64x64.png /app/share/icons/hicolor/64x64/apps/org.vim.Vim.png",
          "install -D -m644 vim128x128.png /app/share/icons/hicolor/128x128/apps/org.vim.Vim.png",
          "desktop-file-edit --set-icon='org.vim.Vim' /app/share/applications/org.vim.Vim.desktop",
          "desktop-file-edit --set-icon='org.vim.Vim' /app/share/applications/org.vim.Vim.GVim.desktop"
      ],
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/vim/vim",
          "tag": "v8.0.1433",
          "commit": "95dbcbea6d85a5b79d9617ab3863458fdf0217a0"
        },
        {
          "type": "file",
          "path": "org.vim.Vim.appdata.xml"
        },
        {
          "type": "file",
          "path": "vim64x64.png"
        },
        {
          "type": "file",
          "path": "vim128x128.png"
        }
      ]
    }
  ]
}
